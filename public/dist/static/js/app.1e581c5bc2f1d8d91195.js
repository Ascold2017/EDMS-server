webpackJsonp([170],{"+OpR":function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("v-app",{attrs:{light:"light"}},[t("app-header"),t("v-content",[t("router-view")],1),t("app-footer")],1)],1)},staticRenderFns:[]}},"+osn":function(e,t,r){var n=r("VU/8")(r("mrDm"),r("ygFw"),!1,function(e){r("eoK5")},"data-v-48519272",null);e.exports=n.exports},"/Djd":function(e,t,r){var n={"./78-EUC-H.bcmap":["0lHY",167],"./78-EUC-V.bcmap":["8cwC",166],"./78-H.bcmap":["Hj0Y",165],"./78-RKSJ-H.bcmap":["rDt0",164],"./78-RKSJ-V.bcmap":["69NQ",163],"./78-V.bcmap":["OfM+",162],"./78ms-RKSJ-H.bcmap":["uB/y",161],"./78ms-RKSJ-V.bcmap":["h5K9",160],"./83pv-RKSJ-H.bcmap":["9WfI",159],"./90ms-RKSJ-H.bcmap":["0WCd",158],"./90ms-RKSJ-V.bcmap":["IlPF",157],"./90msp-RKSJ-H.bcmap":["JgNn",156],"./90msp-RKSJ-V.bcmap":["vmWD",155],"./90pv-RKSJ-H.bcmap":["yxD0",154],"./90pv-RKSJ-V.bcmap":["5WXK",153],"./Add-H.bcmap":["xhCb",152],"./Add-RKSJ-H.bcmap":["6VbT",151],"./Add-RKSJ-V.bcmap":["RLMU",150],"./Add-V.bcmap":["yp9I",149],"./Adobe-CNS1-0.bcmap":["hUem",148],"./Adobe-CNS1-1.bcmap":["ino3",147],"./Adobe-CNS1-2.bcmap":["ibfO",146],"./Adobe-CNS1-3.bcmap":["GiTj",145],"./Adobe-CNS1-4.bcmap":["hsjj",144],"./Adobe-CNS1-5.bcmap":["YRpi",143],"./Adobe-CNS1-6.bcmap":["w8o3",142],"./Adobe-CNS1-UCS2.bcmap":["rX6d",141],"./Adobe-GB1-0.bcmap":["iD5p",140],"./Adobe-GB1-1.bcmap":["4jEs",139],"./Adobe-GB1-2.bcmap":["Afaj",138],"./Adobe-GB1-3.bcmap":["toY7",137],"./Adobe-GB1-4.bcmap":["faDD",136],"./Adobe-GB1-5.bcmap":["4gVq",135],"./Adobe-GB1-UCS2.bcmap":["L8gf",134],"./Adobe-Japan1-0.bcmap":["hIDG",133],"./Adobe-Japan1-1.bcmap":["iPSW",132],"./Adobe-Japan1-2.bcmap":["S/ep",131],"./Adobe-Japan1-3.bcmap":["YhiS",130],"./Adobe-Japan1-4.bcmap":["wm/L",129],"./Adobe-Japan1-5.bcmap":["Zkyi",128],"./Adobe-Japan1-6.bcmap":["aB41",127],"./Adobe-Japan1-UCS2.bcmap":["2Us0",126],"./Adobe-Korea1-0.bcmap":["Mv2w",125],"./Adobe-Korea1-1.bcmap":["s/Eq",124],"./Adobe-Korea1-2.bcmap":["3o6+",123],"./Adobe-Korea1-UCS2.bcmap":["SV2h",122],"./B5-H.bcmap":["HF7q",121],"./B5-V.bcmap":["fwp9",120],"./B5pc-H.bcmap":["rWMu",119],"./B5pc-V.bcmap":["xFEU",118],"./CNS-EUC-H.bcmap":["B0Kb",117],"./CNS-EUC-V.bcmap":["azx/",116],"./CNS1-H.bcmap":["p4ms",115],"./CNS1-V.bcmap":["9eW7",114],"./CNS2-H.bcmap":["zc6H",113],"./CNS2-V.bcmap":["dvni",112],"./ETHK-B5-H.bcmap":["EOs2",111],"./ETHK-B5-V.bcmap":["3Wsc",110],"./ETen-B5-H.bcmap":["gQjr",109],"./ETen-B5-V.bcmap":["kLXg",108],"./ETenms-B5-H.bcmap":["imo+",107],"./ETenms-B5-V.bcmap":["zm2u",106],"./EUC-H.bcmap":["Q2D6",105],"./EUC-V.bcmap":["k2qw",104],"./Ext-H.bcmap":["YgQs",103],"./Ext-RKSJ-H.bcmap":["hIym",102],"./Ext-RKSJ-V.bcmap":["N32G",101],"./Ext-V.bcmap":["M1wV",100],"./GB-EUC-H.bcmap":["HcIz",99],"./GB-EUC-V.bcmap":["UJd/",98],"./GB-H.bcmap":["IhXA",97],"./GB-V.bcmap":["hcdP",96],"./GBK-EUC-H.bcmap":["1Knm",95],"./GBK-EUC-V.bcmap":["YMus",94],"./GBK2K-H.bcmap":["nBsz",93],"./GBK2K-V.bcmap":["vkSo",92],"./GBKp-EUC-H.bcmap":["dk46",91],"./GBKp-EUC-V.bcmap":["cDOd",90],"./GBT-EUC-H.bcmap":["DdPg",89],"./GBT-EUC-V.bcmap":["hqV7",88],"./GBT-H.bcmap":["7XA5",87],"./GBT-V.bcmap":["qhQE",86],"./GBTpc-EUC-H.bcmap":["1Eun",85],"./GBTpc-EUC-V.bcmap":["849d",84],"./GBpc-EUC-H.bcmap":["A4XZ",83],"./GBpc-EUC-V.bcmap":["an5Q",82],"./H.bcmap":["jg+6",81],"./HKdla-B5-H.bcmap":["dKoA",80],"./HKdla-B5-V.bcmap":["Axzi",79],"./HKdlb-B5-H.bcmap":["Z6Fe",78],"./HKdlb-B5-V.bcmap":["Swbl",77],"./HKgccs-B5-H.bcmap":["4mx8",76],"./HKgccs-B5-V.bcmap":["TbQ6",75],"./HKm314-B5-H.bcmap":["zfm+",74],"./HKm314-B5-V.bcmap":["lr6o",73],"./HKm471-B5-H.bcmap":["EyHw",72],"./HKm471-B5-V.bcmap":["YRl9",71],"./HKscs-B5-H.bcmap":["mP3G",70],"./HKscs-B5-V.bcmap":["6sQV",69],"./Hankaku.bcmap":["Boma",68],"./Hiragana.bcmap":["Aqml",67],"./KSC-EUC-H.bcmap":["RBad",66],"./KSC-EUC-V.bcmap":["C6eU",65],"./KSC-H.bcmap":["Q2pl",64],"./KSC-Johab-H.bcmap":["330r",63],"./KSC-Johab-V.bcmap":["jriO",62],"./KSC-V.bcmap":["qRx5",61],"./KSCms-UHC-H.bcmap":["xEph",60],"./KSCms-UHC-HW-H.bcmap":["JSwJ",59],"./KSCms-UHC-HW-V.bcmap":["G/Oj",58],"./KSCms-UHC-V.bcmap":["/RsT",57],"./KSCpc-EUC-H.bcmap":["D4WR",56],"./KSCpc-EUC-V.bcmap":["OqUO",55],"./Katakana.bcmap":["clhU",54],"./NWP-H.bcmap":["xDZB",53],"./NWP-V.bcmap":["lHHt",52],"./RKSJ-H.bcmap":["1bQs",51],"./RKSJ-V.bcmap":["KD7s",50],"./Roman.bcmap":["KDYN",49],"./UniCNS-UCS2-H.bcmap":["bBFw",48],"./UniCNS-UCS2-V.bcmap":["ne9Q",47],"./UniCNS-UTF16-H.bcmap":["7mve",46],"./UniCNS-UTF16-V.bcmap":["fDmo",45],"./UniCNS-UTF32-H.bcmap":["oBG3",44],"./UniCNS-UTF32-V.bcmap":["R8UX",43],"./UniCNS-UTF8-H.bcmap":["9p4U",42],"./UniCNS-UTF8-V.bcmap":["mrGD",41],"./UniGB-UCS2-H.bcmap":["8bey",40],"./UniGB-UCS2-V.bcmap":["lngy",39],"./UniGB-UTF16-H.bcmap":["Jjcy",38],"./UniGB-UTF16-V.bcmap":["0PdA",37],"./UniGB-UTF32-H.bcmap":["nl8J",36],"./UniGB-UTF32-V.bcmap":["k/6v",35],"./UniGB-UTF8-H.bcmap":["5y08",34],"./UniGB-UTF8-V.bcmap":["Mx+T",33],"./UniJIS-UCS2-H.bcmap":["h4hU",32],"./UniJIS-UCS2-HW-H.bcmap":["Uz5R",31],"./UniJIS-UCS2-HW-V.bcmap":["LdTY",30],"./UniJIS-UCS2-V.bcmap":["cBwd",29],"./UniJIS-UTF16-H.bcmap":["+S0o",28],"./UniJIS-UTF16-V.bcmap":["VEBc",27],"./UniJIS-UTF32-H.bcmap":["m4Cs",26],"./UniJIS-UTF32-V.bcmap":["dWl0",25],"./UniJIS-UTF8-H.bcmap":["leWl",24],"./UniJIS-UTF8-V.bcmap":["ulcQ",23],"./UniJIS2004-UTF16-H.bcmap":["fZfZ",22],"./UniJIS2004-UTF16-V.bcmap":["yeFf",21],"./UniJIS2004-UTF32-H.bcmap":["StCN",20],"./UniJIS2004-UTF32-V.bcmap":["4axz",19],"./UniJIS2004-UTF8-H.bcmap":["petH",18],"./UniJIS2004-UTF8-V.bcmap":["ebP/",17],"./UniJISPro-UCS2-HW-V.bcmap":["bJiI",16],"./UniJISPro-UCS2-V.bcmap":["eCeG",15],"./UniJISPro-UTF8-V.bcmap":["gGQY",14],"./UniJISX0213-UTF32-H.bcmap":["yvQh",13],"./UniJISX0213-UTF32-V.bcmap":["/rlZ",12],"./UniJISX02132004-UTF32-H.bcmap":["0dQZ",11],"./UniJISX02132004-UTF32-V.bcmap":["+GS9",10],"./UniKS-UCS2-H.bcmap":["fGKg",9],"./UniKS-UCS2-V.bcmap":["X3cO",8],"./UniKS-UTF16-H.bcmap":["TMpY",7],"./UniKS-UTF16-V.bcmap":["hTx4",6],"./UniKS-UTF32-H.bcmap":["kbYn",5],"./UniKS-UTF32-V.bcmap":["t4S0",4],"./UniKS-UTF8-H.bcmap":["6InH",3],"./UniKS-UTF8-V.bcmap":["oEkN",2],"./V.bcmap":["xBln",1],"./WP-Symbol.bcmap":["A12k",0]};function a(e){var t=n[e];return t?r.e(t[1]).then(function(){return r(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}a.keys=function(){return Object.keys(n)},a.id="/Djd",e.exports=a},0:function(e,t){},"0aZ9":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"px-3 py-3"},[r("v-subheader",{staticClass:"headline"},[e._v("Статистика за "+e._s(e.title))]),r("v-subheader",[e._v("Обрати проміжок зрізу статистики")]),r("vue-rangedate-picker",{attrs:{i18n:"EN",month:e.datepickerConfig.month,shortDays:e.datepickerConfig.shortDays,captions:e.datepickerConfig.captions,presetRanges:e.datepickerConfig.presetRanges},on:{selected:e.submitStat}}),r("ol",[r("li",[e._v("Створено усього документов за период: "+e._s(e.docsCreated))]),r("li",[e._v("Підписано усього документов за период: "+e._s(e.docsSigned))]),r("li",[e._v("Отказано документов за период: "+e._s(e.docsRejected))]),r("li",[e._v("Середній час між створенням та фінальним підписанням документа: "+e._s(e.docsTimingResolve))]),r("li",[e._v("Середній час одного підпису: "+e._s(e.docsTimingSign))])]),r("v-subheader",[e._v("Статистика за ролями:")]),r("v-data-table",{attrs:{headers:e.usersStat.fields,items:e.usersStat.items},scopedSlots:e._u([{key:"items",fn:function(t){return[r("td",[e._v(e._s(t.item.author))]),r("td",[e._v(e._s(t.item.role))]),r("td",[e._v(e._s(t.item.resolvedDocs))]),r("td",[e._v(e._s(t.item.rejectedDocs))]),r("td",[e._v(e._s(t.item.signings))]),r("td",[e._v(e._s(t.item.rejecteds))]),r("td",[e._v(e._s(t.item.created))])]}}])})],1)},staticRenderFns:[]}},1:function(e,t){},"18FA":function(e,t){},"1GYb":function(e,t,r){var n=r("VU/8")(r("OQeb"),r("H3C/"),!1,null,null,null);e.exports=n.exports},"1Pqu":function(e,t,r){var n=r("VU/8")(r("6Xwc"),r("xl7B"),!1,function(e){r("kXoz")},"data-v-fdbcbb58",null);e.exports=n.exports},"1jn4":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-card",{staticClass:"px-3 py-3"},[r("v-subheader",[e._v("Створити новий список віз")]),r("v-btn",{attrs:{color:"secondary"},on:{click:function(t){e.showModal=!0}}},[e._v("Відкрити редактор")])],1),r("v-dialog",{ref:"routesEditor",attrs:{title:"Створити новий маршрут"},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[r("v-card",{staticClass:"px-3 py-3"},[r("v-form",{ref:"routesEditorForm",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-text-field",{attrs:{required:"required",rules:e.rules,label:"Введіть назву списку"},model:{value:e.presetName,callback:function(t){e.presetName=t},expression:"presetName"}}),r("choose-authors",{attrs:{selectedUsers:e.selectedUsers},on:{updateSelectedUsers:e.updatePresetRoute}}),r("authors-list",{attrs:{selectedUsers:e.selectedUsers},on:{updateSelectedUser:e.updatePresetRoute}}),r("v-btn",{attrs:{color:"primary",disabled:!e.valid||!e.selectedUsers.length},on:{click:function(t){t.preventDefault(),e.createNewPreset(t)}}},[e._v("Створити Маршрут")])],1)],1)],1)],1)},staticRenderFns:[]}},2:function(e,t){},3:function(e,t){},4:function(e,t){},"4z3Q":function(e,t,r){var n=r("VU/8")(r("ePUA"),r("1jn4"),!1,null,null,null);e.exports=n.exports},"6Xwc":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Dd8w"),a=r.n(n),s=r("NYxO");t.default={data:function(){return{route:this.$router.currentRoute.fullPath,sidebar:!1}},computed:a()({},Object(s.c)("usersStore",["currentUser"]),{show:function(){var e=this.$route.fullPath,t=this.currentUser.role;return"/"===e||"/auth"===e||"/registration"===e?"indexBar":"Admin"===t?"adminBar":"superAdmin"===t?"superadminBar":"userBar"}}),methods:a()({},Object(s.b)(["logout"]),{logOut:function(){this.sidebar=!1,this.$router.push("/"),this.logout()}})}},"6acm":function(e,t,r){var n=r("VU/8")(r("Kp36"),r("wBEF"),!1,null,null,null);e.exports=n.exports},"83MH":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("BO1k"),a=r.n(n),s=r("Dd8w"),o=r.n(s),i=r("NYxO");t.default={data:function(){return{authorNameOrRole:"",selectedPreset:[]}},props:{selectedUsers:Array},computed:o()({},Object(i.c)("usersStore",["users"]),Object(i.c)("docsStore",["presets"]),{computedUsers:function(){var e=this;if(!this.authorNameOrRole)return this.filterSelected(this.users);var t=this.users.filter(function(t){var r=-1!==t.author.toLowerCase().indexOf(e.authorNameOrRole.toLowerCase()),n=-1!==t.role.toLowerCase().indexOf(e.authorNameOrRole.toLowerCase());return r||n?t:null});return this.filterSelected(t)},presetsOptions:function(){var e=[{value:[],text:"Не обрано"}],t=!0,r=!1,n=void 0;try{for(var s,o=a()(this.presets);!(t=(s=o.next()).done);t=!0){var i=s.value;e.push({value:i.routes,text:i.title})}}catch(e){r=!0,n=e}finally{try{!t&&o.return&&o.return()}finally{if(r)throw n}}return e}}),methods:o()({},Object(i.b)("docsStore",["getPresets"]),{addAuthor:function(e){this.selectedUsers.length?e.canSee="no":e.canSee="yes",e.status="waiting",this.selectedUsers.push(o()({},e)),this.$emit("updateSelectedUsers",this.selectedUsers)},filterSelected:function(e){var t=this;return this.selectedUsers.length?e.filter(function(e){return!t.selectedUsers.find(function(t){return t._id===e._id})}):e}}),watch:{selectedPreset:function(){this.$emit("updateSelectedUsers",this.selectedPreset)}},created:function(){this.getPresets()}}},"8Y90":function(e,t){},"8vlY":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"bg-simple",attrs:{fluid:"fluid","grid-list-md":"grid-list-md"}},[r("v-layout",{attrs:{row:"row",wrap:"wrap"}},[r("v-flex",{attrs:{xs12:"xs12"}},[r("v-card",[r("v-subheader",{staticClass:"headline"},[e._v(e._s(e.document.title))]),r("v-alert",{attrs:{value:"resolved"===e.document.globalStatus,type:"success"}},[e._v("Документ успішно прийнят")]),r("v-alert",{attrs:{value:"resolved"!==e.document.globalStatus,type:"error"}},[r("v-card",{staticClass:"px-2 py-2",attrs:{color:"transparent"}},[e._v("Документ закритий.\n"+e._s(e.document.versions[0].rejectReason))])],1)],1)],1),r("v-flex",{attrs:{xs12:"xs12"}},[r("doc-tabs")],1),r("v-flex",{attrs:{xs12:"xs12"}},[r("signers-list",{attrs:{rejected:!1}})],1)],1)],1)},staticRenderFns:[]}},"9+J+":function(e,t,r){"use strict";var n=r("mtWM"),a=r.n(n),s={getCurrentUser:function(e){return a.a.get("/api/getCurrentUser",e).then(function(e){return e.data}).catch(function(e){throw new Error(e)})},getAllUsersFromGroup:function(e){return a.a.get("/api/getAllUsers",e).then(function(e){return e.data}).catch(function(e){return[]})},createNewUser:function(e,t){return a.a.post("/api/createNewUser",e,t).catch(function(e){throw new Error(e)})}},o={getPreviewsJSON:function(e){return a.a.get("/api/getPreviews",e).then(function(e){return e.data}).catch(function(e){throw new Error(e)})},getDocumentByIdJSON:function(e,t){return a.a.get("/api/getDocument/"+e,t).then(function(e){return e.data}).catch(function(e){throw new Error(e)})},getFileContent:function(e,t){return a.a.get(""+e,t).then(function(e){return e.data}).catch(function(e){throw new Error(e)})},getMyDocumentByIdJSON:function(e,t){return a.a.get("/api/getMyDocument/"+e,t).then(function(e){return e.data}).catch(function(e){throw new Error(e)})},getPresets:function(e){return a.a.get("/api/getDocPresets",e).then(function(e){return e.data}).catch(function(e){throw new Error(e)})},getOurDocumentsPreview:function(e){return a.a.get("/api/getOurDocuments",e).then(function(e){return e.data}).catch(function(e){throw new Error(e)})},getArchiveDocuments:function(e){return a.a.get("/api/getArchiveDocuments",e).then(function(e){return e.data}).catch(function(e){throw new Error(e)})},getArchiveDocument:function(e,t){return a.a.get("/api/getArchiveDocument/"+e,t).then(function(e){return e.data}).catch(function(e){throw new Error(e)})},postVote:function(e,t){return a.a.post("/api/postVote",e,t).then(function(e){return e.data}).catch(function(e){throw new Error(e.response.data.message)})},postNewDocument:function(e,t){return a.a.post("/api/postNewDocument",e,t).then(function(e){return e.data}).catch(function(e){throw new Error(e)})},postNewVersion:function(e,t){return a.a.put("/api/postNewVersion",e,t).then(function(e){return e.data}).catch(function(e){throw new Error(e.response.data.message)})},createPreset:function(e,t){return a.a.post("/api/createPreset",e,t).then(function(e){return e.data}).catch(function(e){throw new Error(e)})},closeDocumentById:function(e,t){return a.a.post("/api/closeDocument",{id:e},t).then(function(e){return e.data}).catch(function(e){throw new Error(e)})},checkSigns:function(e,t){return a.a.get("/api/checkSigns/"+e,t).then(function(e){return e.data}).catch(function(e){throw new Error(e)})}},i={getAllGroups:function(e){return a.a.get("/api/getAllGroups",e).then(function(e){return e.data}).catch(function(e){return[]})},getGroupByToken:function(e,t){return a.a.get("/api/getGroup/"+e,t).then(function(e){return e.data}).catch(function(e){return[]})},createNewGroup:function(e,t){return a.a.post("/api/createNewGroup",e,t).catch(function(e){throw new Error(e.response.data.message)})},createNewAdmin:function(e,t){return a.a.post("/api/createNewAdmin",e,t).catch(function(e){throw new Error(e.response.data.message)})},removeAdmin:function(e,t){var r=e.adminId,n=e.groupId;return a.a.delete("/api/removeAdmin/"+n+"/"+r,t).catch(function(e){throw new Error(e.response.data.message)})},sendInviteAdmin:function(e,t){return a.a.post("/api/sendInviteAdmin",e,t).catch(function(e){throw new Error(e.response.data.message)})}},c={getDocsStat:function(e){return a.a.get("/api/getDocsStat",e).then(function(e){return e.data}).catch(function(e){throw new Error(e.response.data.message)})}};r.d(t,"a",function(){return u});var u={usersApi:s,documentsApi:o,groupsApi:i,statApi:c,logIn:function(e){return a.a.post("/api/signIn",e).then(function(e){return e.data}).catch(function(e){throw new Error(e.response.data.error)})},logInAdmin:function(e){return a.a.post("/api/signInAdmin",e).then(function(e){return e.data}).catch(function(e){throw new Error(e.response.data.error)})},logout:function(){return a.a.post("/api/logout").then(function(e){return e.data}).catch(function(e){throw new Error(e.response)})},sendMail:function(e,t){return a.a.post("/api/mail",e,t).then(function(e){return e.data}).catch(function(e){throw new Error(e.response)})},signUp:function(e){return a.a.post("/api/signUp",e).then(function(e){return e.data}).catch(function(e){throw new Error(e.response.error)})}}},"9z6W":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"bg-simple",attrs:{fluid:"fluid","grid-list-md":"grid-list-md",app:"app"}},[r("v-layout",{attrs:{row:"row",wrap:"wrap"}},[r("v-flex",{attrs:{xs12:"xs12"}},[r("v-card",{staticClass:"px-3 py-3"},[r("v-subheader",{staticClass:"headline"},[e._v(e._s(e.document.title))]),r("v-subheader",[e._v("Дата першої публикації "+e._s(e.toDateString(+e.document.date)))]),e.document.versions&&e.document.versions.lenght>1?r("v-subheader",[e._v("Поточна версія документа "+e._s(e.document.versions[0].version))]):e._e(),e.document.versions&&e.document.versions.lenght>1?r("v-subheader",[e._v("Дата публикації версіх "+e._s(e.document.versions[0].version)+": "+e._s(e.document.versions[0].date))]):e._e()],1)],1),r("v-flex",{attrs:{xs12:"xs12"}},[r("doc-tabs")],1),r("v-flex",{attrs:{xs12:"xs12",lg6:"lg6"}},[r("signers-list",{attrs:{rejected:!1}})],1),r("v-flex",{attrs:{xs12:"xs12",lg6:"lg6"}},["resolved"===e.document.globalStatus?r("v-alert",{attrs:{type:"success",value:!0}},[e._v("Документ успішно підписа, його можна знайти у"),r("router-link",{attrs:{to:"/edms/archive/"+e.document._id}},[e._v("Архіві")])],1):e._e(),"waiting"===e.document.globalStatus?r("v-alert",{attrs:{variant:"primary",value:!0}},[e._v("Документ на стадії перегляду. Зараз його переглядає: "+e._s(e.closerViewer))]):e._e(),"rejected"===e.document.globalStatus?r("div",[r("v-alert",{attrs:{variant:"error",value:!0}},[e._v("Документ відмовлен в підписі. Ви можете его доробити або закрити."),r("v-card",[r("v-card-text",[e._v(e._s(e.document.versions[0].rejectReason))])],1)],1),r("v-btn",{attrs:{color:"error"},on:{click:e.closeDocument}},[e._v("Закрити документ")]),r("v-btn",{attrs:{to:"/edms/myDocumentEdit/"+e.id,color:"primary"}},[e._v("Доробити документ")])],1):e._e()],1)],1)],1)},staticRenderFns:[]}},AcWC:function(e,t){},AgTH:function(e,t){},BIkM:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"bg-simple",attrs:{app:"app",fluid:"fluid","grid-list-md":"grid-list-md"}},[r("v-layout",{attrs:{row:"row",wrap:"wrap"}},[r("v-flex",{attrs:{xs12:"xs12"}},[r("v-card",{staticClass:"px-3 py-3"},[r("v-subheader",{staticClass:"headline"},[e._v("Додати новий документ")]),r("app-timer",{on:{dateUpdate:function(t){e.date=t}}})],1)],1),r("v-flex",{attrs:{xs12:"xs12",lg6:"lg6"}},[r("v-form",{ref:"docForm",model:{value:e.validForm,callback:function(t){e.validForm=t},expression:"validForm"}},[r("v-card",{staticClass:"px-3 py-3"},[r("v-text-field",{attrs:{required:"required",rules:e.rules,label:"Назва документа"},model:{value:e.docName,callback:function(t){e.docName=t},expression:"docName"}}),r("file-input",{attrs:{label:"Завантажте файл документа",accept:".pdf",required:!0},on:{file:e.getFile}}),e.previewDoc?r("pdfReader",{attrs:{src:e.previewDoc}}):r("div",{staticClass:"empty-pdf"},[e._v("Завантажте файл документа")]),r("v-text-field",{attrs:{label:"Введіть короткий опис документа",required:"required",rules:e.rules,"multi-line":"multi-line"},model:{value:e.docDescription,callback:function(t){e.docDescription=t},expression:"docDescription"}})],1)],1)],1),r("v-flex",{attrs:{xs12:"xs12",lg6:"lg6"}},[r("preset-routes",{on:{choosePreset:e.updateSelectedUsers}}),r("choose-authors",{attrs:{selectedUsers:e.selectedUsers},on:{updateSelectedUsers:e.updateSelectedUsers}})],1),r("v-flex",{attrs:{xs12:"xs12"}},[r("v-card",{staticClass:"px-3 py-3"},[r("authors-list",{attrs:{selectedUsers:e.selectedUsers},on:{updateSelectedUser:e.updateSelectedUsers}})],1),r("v-btn",{attrs:{disabled:!e.validForm||e.submitting,color:"primary"},on:{click:function(t){t.preventDefault(),e.addNewDoc(t)}}},[e._v("Опублікувати")])],1)],1),r("v-dialog",{attrs:{"max-width":"290"},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[r("v-card",[r("v-card-text",[e._v(e._s(e.infoAlert))]),r("v-card-actions",[r("v-btn",{attrs:{flat:"flat"},nativeOn:{click:function(t){e.showModal=!1}}},[e._v("Закрити")])],1)],1)],1)],1)},staticRenderFns:[]}},BNfl:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Dd8w"),a=r.n(n),s=r("465N"),o=r.n(s),i=r("f5j3"),c=r("NYxO");t.default={data:function(){return{loadedStat:!1,title:"весь час",datepickerConfig:{months:["Cічень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],shortDays:["ПН","ВТ","СР","ЧТ","ПТ","СБ","ВС"],captions:{title:"Оберить проміжок",ok_button:"Обрати"},presetRanges:{today:function(){var e=new Date;return{label:"За сьогодні",active:!1,dateRange:{start:new Date(e.getFullYear(),e.getMonth(),e.getDate()+1,0,0),end:new Date(e.getFullYear(),e.getMonth(),e.getDate()+1,23,59)}}},thisMonth:function(){var e=new Date;return{label:"За останній місяць",active:!1,dateRange:{start:new Date(e.getFullYear(),e.getMonth()-1,e.getDate()),end:new Date(e.getFullYear(),e.getMonth(),e.getDate()-1,0,0)}}},last7days:function(){var e=new Date;return{label:"За останні 7 діб",active:!1,dateRange:{start:new Date(e.getFullYear(),e.getMonth(),e.getDate()-7,0,0),end:new Date(e.getFullYear(),e.getMonth(),e.getDate()-1,0,0)}}},last30days:function(){var e=new Date;return{label:"За останні 30 діб",active:!1,dateRange:{start:new Date(e.getFullYear(),e.getMonth(),e.getDate()-30,0,0),end:new Date(e.getFullYear(),e.getMonth(),e.getDate()-1,0,0)}}},allTime:function(){var e=new Date;return{label:"За весь час",active:!0,dateRange:{start:new Date(0),end:new Date(e.getFullYear(),e.getMonth(),e.getDate())}}}}}}},computed:a()({},Object(c.c)("statStore",["docsCreated","docsSigned","docsRejected","docsTimingSign","docsTimingResolve","usersStat"])),methods:a()({},Object(c.b)("statStore",["getDocsStat"]),Object(c.d)("statStore",["setRange"]),{toDateString:i.a,submitStat:function(e){var t=new Date(e.start).getTime(),r=new Date(e.end).getTime();this.title="період с "+this.toDateString(t)+" по "+this.toDateString(r),this.setRange({start:t,end:r})}}),created:function(){var e=this;this.getDocsStat().then(function(t){e.loadedStat=!0})},components:{VueRangedatePicker:o.a}}},Bio6:function(e,t,r){var n=r("VU/8")(r("NiK3"),r("Ozar"),!1,null,null,null);e.exports=n.exports},BwF3:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{date:""}},methods:{timer:function(){var e=this;setInterval(function(){var t=new Date,r=t.getDate()<10?"0"+t.getDate():t.getDate(),n=t.getMonth()<10?"0"+(t.getMonth()+1):t.getMonth()+1,a=t.getHours()<10?"0"+t.getHours():t.getHours(),s=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),o=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();e.date=r+"."+n+"."+t.getFullYear()+" - "+a+":"+s+":"+o,e.$emit("dateUpdate",e.date)},1e3)}},created:function(){this.timer()}}},CCit:function(e,t){},CWTb:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"px-3 py-3"},[r("v-subheader",[e._v("Виставити список віз:")]),r("v-text-field",{attrs:{type:"text",placeholder:"Почніть пошук за ПІБ або Роллю"},model:{value:e.authorNameOrRole,callback:function(t){e.authorNameOrRole=t},expression:"authorNameOrRole"}}),r("v-subheader",[e._v("Або оберіть готовий список:")]),r("v-select",{attrs:{items:e.presetsOptions},model:{value:e.selectedPreset,callback:function(t){e.selectedPreset=t},expression:"selectedPreset"}}),r("v-subheader",[e._v("Список доступних ролей")]),r("div",{staticClass:"authors-list"},[e._l(e.computedUsers,function(t){return[r("v-card",{staticClass:"px-2 py-2",nativeOn:{click:function(r){e.addAuthor(t)}}},[r("h3",[e._v("ПІБ: "+e._s(t.author))]),r("p",{staticClass:"mb-0"},[e._v("Роль: "+e._s(t.role))])]),r("v-divider")]})],2)],1)},staticRenderFns:[]}},DB7B:function(e,t,r){var n=r("VU/8")(r("sw/x"),r("Ng/4"),!1,null,null,null);e.exports=n.exports},DL3K:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Dd8w"),a=r.n(n),s=r("NYxO");t.default={data:function(){return{groupName:"",adminEmail:"",info:"",valid:!1,rules:[function(e){return!!e||"Поле обовʼязкове!"}],showAlert:!1}},methods:a()({},Object(s.b)("groupsStore",["createNewGroup"]),{createGroup:function(){this.showAlert=!0},submitForm:function(){var e=this;this.createNewGroup({groupName:this.groupName,adminEmail:this.adminEmail}).then(function(t){e.$refs.createGroupForm.reset(),e.$emit("alert",t.message)}).catch(function(t){return e.$emit("alert",t.message)})}})}},EQr7:function(e,t,r){"use strict";var n=r("9+J+"),a=r("IcnI"),s={namespaced:!0,state:{data:[],currentGroup:{}},getters:{groups:function(e){return e.data},currentGroup:function(e){return e.currentGroup}},actions:{getAllGroups:function(e){return n.a.groupsApi.getAllGroups(a.a.getters.headerToken).then(function(t){return e.state.data=t,null})},getCurrentGroup:function(e){return n.a.groupsApi.getGroupByToken(a.a.getters["usersStore/currentUser"].groupInvite,a.a.getters.headerToken).then(function(t){return e.state.currentGroup=t,null}).catch(function(e){throw new Error(e)})},createNewGroup:function(e,t){var r={name:t.groupName,adminEmail:t.adminEmail};return n.a.groupsApi.createNewGroup(r,a.a.getters.headerToken).then(function(t){return e.dispatch("getAllGroups"),t.data}).catch(function(e){throw new Error(e.message)})},createNewAdmin:function(e,t){var r={adminEmail:t.email,groupId:t.groupId};return n.a.groupsApi.createNewAdmin(r,a.a.getters.headerToken).then(function(t){return e.dispatch("getAllGroups"),t.data}).catch(function(e){throw new Error(e.message)})},removeAdmin:function(e,t){var r=t.adminId,s=t.groupId;return n.a.groupsApi.removeAdmin({adminId:r,groupId:s},a.a.getters.headerToken).then(function(t){return e.dispatch("getAllGroups"),t.data}).catch(function(e){throw new Error(e.message)})},sendInviteAdmin:function(e,t){return n.a.groupsApi.sendInviteAdmin(t,a.a.getters.headerToken).then(function(t){return e.dispatch("getAllGroups"),t.data}).catch(function(e){throw new Error(e.message)})},createNewUser:function(e,t){return n.a.usersApi.createNewUser(t,a.a.getters.headerToken).then(function(t){return e.dispatch("getCurrentGroup"),t.data}).catch(function(e){throw new Error(e)})}}};t.a=s},FVt8:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-subheader",{staticClass:"headline"},[e._v("Створити нову групу")]),r("v-text-field",{attrs:{type:"text",required:"required",rules:e.rules,label:"Введіть назву групи",placeholder:"Назва групи"},model:{value:e.groupName,callback:function(t){e.groupName=t},expression:"groupName"}}),r("v-text-field",{attrs:{type:"email",placeholder:"example@gmail.com",label:"E-mail адміністратора групи",description:"Увага! На цей адрес будуть відіслані дані фвторизації!",required:"required",rules:e.rules},model:{value:e.adminEmail,callback:function(t){e.adminEmail=t},expression:"adminEmail"}}),r("v-btn",{attrs:{color:"primary",disabled:!e.valid},on:{click:function(t){t.preventDefault(),e.createGroup(t)}}},[e._v("Створити групу")]),r("v-dialog",{model:{value:e.showAlert,callback:function(t){e.showAlert=t},expression:"showAlert"}},[r("v-card",[r("v-card-title",[r("v-subheader",{staticClass:"headline"},[e._v("Перевірте дані!")])],1),r("v-card-text",[r("v-text-field",{attrs:{label:"Назва группи",readonly:"readonly"},model:{value:e.groupName,callback:function(t){e.groupName=t},expression:"groupName"}}),r("v-text-field",{attrs:{readonly:"readonly",label:"Email адміністратора",description:"На цю пошту будуть відіслані логін та пароль"},model:{value:e.adminEmail,callback:function(t){e.adminEmail=t},expression:"adminEmail"}})],1),r("v-card-actions",[r("v-btn",{attrs:{color:"primary"},on:{click:e.submitForm}},[e._v("Відправити")])],1)],1)],1)],1)},staticRenderFns:[]}},"GM0+":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.document.versions?r("v-tabs",{attrs:{app:"app"},model:{value:e.tabIndex,callback:function(t){e.tabIndex=t},expression:"tabIndex"}},[r("v-tab",[e._v("Остання версія документа")]),r("v-tab-item",[r("v-card",{staticClass:"px-3 py-3"},[r("v-subheader",[e._v("Описання:")]),r("p",[e._v(e._s(e.document.versions[0].description))]),r("v-alert",{attrs:{type:"info",value:!0}},[e._v(e._s(e.checked))]),r("pdf-reader",{attrs:{src:e.document.versions[0].file}})],1)],1),e._l(e.document.versions.filter(function(e,t){return 0!==t}),function(t){return[r("v-tab",[e._v(e._s("Версія документа: "+t.version))]),r("v-tab-item",[r("v-card",{staticClass:"px-3 py-3"},[r("p",[e._v(e._s(t.rejectReason))]),r("p",[e._v("Описання: "+e._s(t.description))]),r("pdf-reader",{attrs:{src:t.file}})],1)],1)]})],2):e._e()},staticRenderFns:[]}},"H3C/":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"bg-simple",attrs:{app:"app",fluid:"fluid","fill-height":"fill-height"}},[r("v-layout",[r("v-flex",[r("v-subheader",{staticClass:"headline mt-3"},[e._v("Документи к підписанню")]),r("v-alert",{attrs:{type:"info",value:!e.loaded}},[e._v("Завантажується...")]),r("v-alert",{attrs:{type:"warning",value:e.loaded&&!e.sortingData.length}},[e._v("Нових документів до розгляду немає")]),e._l(e.sortingData,function(t){return[r("v-card",[r("v-layout",{attrs:{row:"row",wrap:"wrap"}},[r("v-flex",{attrs:{xs12:"xs12",md6:"md6"}},[r("v-subheader",{staticClass:"headline"},[e._v(e._s(t.title))])],1),r("v-flex",{attrs:{xs12:"xs12",md6:"md6"}},[r("v-subheader",[e._v("Дата публікації: "+e._s(e.toDateString(+t.date)))])],1),r("v-flex",{attrs:{xs12:"xs12",md6:"md6"}},[r("v-subheader",[e._v("Автор публікації: "+e._s(t.author))])],1),r("v-flex",{attrs:{xs12:"xs12",md6:"md6"}},[r("v-subheader",[e._v("Поточний маршрут: "+e._s(t.state)+" / "+e._s(t.total))])],1),r("v-flex",{attrs:{xs12:"xs12",md6:"md6"}},[r("v-subheader",[e._v("Час відкриття візи: "+e._s(e.incomingDate(t)))])],1),r("v-flex",{attrs:{xs12:"xs12"}},[r("v-btn",{attrs:{to:"/edms/"+t._id,color:"primary"}},[e._v("Перейти"),r("v-icon",{attrs:{right:"right",dark:"dark"}},[e._v("exit_to_app")])],1)],1)],1)],1),r("v-divider")]})],2)],1)],1)},staticRenderFns:[]}},IPEZ:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Dd8w"),a=r.n(n),s=r("NYxO"),o=r("f5j3");t.default={data:function(){return{user:{role:"",email:"",login:"",name:"",certTime:0},info:"",showAlert:!1,valid:!1,rules:[function(e){return!!e||"Поле обовʼязкове!"}]}},computed:a()({},Object(s.c)("groupsStore",["currentGroup"]),Object(s.c)("usersStore",["currentUser"])),methods:a()({},Object(s.b)("groupsStore",["createNewUser","getCurrentGroup"]),{toDateString:o.a,createUser:function(e){var t=this;this.createNewUser(a()({},this.user,{group:this.currentGroup._id})).then(function(e){t.$refs.adminForm.reset(),t.info=e.message,t.showAlert=!0}).catch(function(e){t.info=e.message,t.showAlert=!0})}}),components:{usersStat:r("jDSw")}}},IUVv:function(e,t,r){var n=r("VU/8")(r("83MH"),r("CWTb"),!1,function(e){r("rtfE")},"data-v-2ba80bd0",null);e.exports=n.exports},IXfK:function(e,t){},IcnI:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return store});var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__=__webpack_require__("pFYg"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__=__webpack_require__("//Fk"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__),__WEBPACK_IMPORTED_MODULE_2_vue__=__webpack_require__("7+uW"),__WEBPACK_IMPORTED_MODULE_3_vuex__=__webpack_require__("NYxO"),__WEBPACK_IMPORTED_MODULE_4__modules_usersStore__=__webpack_require__("QjmY"),__WEBPACK_IMPORTED_MODULE_5__modules_docsStore__=__webpack_require__("jjq0"),__WEBPACK_IMPORTED_MODULE_6__modules_groupsStore__=__webpack_require__("EQr7"),__WEBPACK_IMPORTED_MODULE_7__modules_statStore__=__webpack_require__("Wlrp"),__WEBPACK_IMPORTED_MODULE_8__API_dev_Api__=__webpack_require__("n+E9"),openpgp=__webpack_require__("aMZi");__WEBPACK_IMPORTED_MODULE_2_vue__.a.use(__WEBPACK_IMPORTED_MODULE_3_vuex__.a);var store=new __WEBPACK_IMPORTED_MODULE_3_vuex__.a.Store({state:{token:"",privateKey:{}},getters:{headerToken:function(e){return{headers:{token:e.token}}},privateKey:function(e){return e.privateKey}},modules:{usersStore:__WEBPACK_IMPORTED_MODULE_4__modules_usersStore__.a,docsStore:__WEBPACK_IMPORTED_MODULE_5__modules_docsStore__.a,groupsStore:__WEBPACK_IMPORTED_MODULE_6__modules_groupsStore__.a,statStore:__WEBPACK_IMPORTED_MODULE_7__modules_statStore__.a},mutations:{setToken:function(e,t){sessionStorage.setItem("edms-token",t),e.token=t},clearToken:function(e){sessionStorage.removeItem("edms-token"),e.token=""},setKey:function(e,t){e.privateKey=t},clearKey:function(e){sessionStorage.removeItem("edms-privateKey"),e.privateKey=""}},actions:{initApp:function(e){var t=sessionStorage.getItem("edms-token");return t?(e.commit("setToken",t),store.dispatch("usersStore/getCurrentUser").then(function(){return store.dispatch("groupsStore/getCurrentGroup")})):__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a.resolve()},parsePrivateKey:function parsePrivateKey(context,privateKeyString){function stoo(str){var pStr="";try{pStr=JSON.parse("{"+str+"}")}catch(e){pStr=str}var obj={};for(var i in pStr)"string"==typeof pStr[i]?"function"===pStr[i].substring(0,8)?eval("obj[i] = "+pStr[i]):obj[i]=pStr[i]:"object"===__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(pStr[i])&&(obj[i]=stoo(pStr[i]));return obj}var privateKeyObj=stoo(privateKeyString);return console.log(privateKeyObj),privateKeyObj},logout:function(e){return __WEBPACK_IMPORTED_MODULE_8__API_dev_Api__.a.logout().then(function(t){store.state.usersStore.user={},store.state.groupsStore.data=[],e.commit("clearToken"),e.commit("clearKey")})},logIn:function(e,t){var r=t.login,n=t.passphrase,a=t.privateKeyFile;return new __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a(function(t,s){var o=new FileReader;o.readAsText(a,"utf-8"),o.onload=function(a){var o="";e.dispatch("decryptPrivateKey",{privateKey:a.target.result,passphrase:n}).then(function(){return e.dispatch("createAuthCertificate")}).then(function(e){return __WEBPACK_IMPORTED_MODULE_8__API_dev_Api__.a.logIn({userLogin:r,certificate:e.data}).catch(function(e){throw new Error(e.message)})}).then(function(t){return o=t.message,e.commit("setToken",t.token),store.dispatch("usersStore/getCurrentUser")}).then(function(){return t(o)}).catch(function(e){return s(e)})}})},logInAdmin:function(e,t){return __WEBPACK_IMPORTED_MODULE_8__API_dev_Api__.a.logInAdmin(t).then(function(t){return e.commit("setToken",t.token),store.dispatch("usersStore/getCurrentUser").then(function(){return store.dispatch("groupsStore/getCurrentGroup").then(function(){return t.message})})}).catch(function(e){throw new Error(e.message)})},decryptPrivateKey:function(e,t){var r=t.privateKey,n=t.passphrase;return new __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a(function(t,a){var s=openpgp.key.readArmored(r).keys[0];s.decrypt(n)?(e.commit("setKey",s),t()):(e.commit("clearKey"),a(new Error("Неправильна парольна фраза!")))})},createAuthCertificate:function(e){var t=Date.now().toString();return openpgp.sign({data:t,privateKeys:e.state.privateKey,date:Date.now()})}}})},IiRR:function(e,t,r){var n=r("VU/8")(r("humj"),r("r81e"),!1,function(e){r("18FA")},"data-v-64fc3bcb",null);e.exports=n.exports},KLGY:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Dd8w"),a=r.n(n),s=r("NYxO"),o=r("f5j3");t.default={data:function(){return{loaded:!1}},computed:a()({},Object(s.c)("docsStore",["documents"]),{sortingData:function(){return this.documents.length?this.documents.slice(0).sort(function(e,t){return e.date<=t.date}):[]}}),methods:a()({},Object(s.b)("docsStore",["getArchiveDocuments"]),{toDateString:o.a,globalStatus:function(e){switch(e.globalStatus){case"resolved":return{color:"success",status:"Прийнятий"};case"rejected":return{color:"error",status:"Відмовлен"};case"waiting":return{color:"info",status:"На розгляданні"};case"archived":return{color:"secondary",status:"Закритий"}}}}),created:function(){var e=this;this.getArchiveDocuments().then(function(){e.loaded=!0})}}},Kp36:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("DAYN"),a=r.n(n);t.default={props:{selectedUsers:Array},computed:{usersList:{get:function(){return this.selectedUsers},set:function(e){e.map(function(t){return 0===e.indexOf(t)?t.canSee="yes":t.canSee="no",t}),this.$emit("updateSelectedUser",e)}}},methods:{removeAuthor:function(e){0===this.selectedUsers.indexOf(e)&&this.selectedUsers[1]&&(this.selectedUsers[1].canSee="yes"),this.$emit("updateSelectedUser",this.selectedUsers.filter(function(t){return t._id!==e._id}))}},components:{draggable:a.a}}},LD2M:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Dd8w"),a=r.n(n),s=r("NYxO"),o=r("+osn"),i=r.n(o);t.default={data:function(){return{date:"",docVersion:"",docDescription:"",file:"",infoAlert:"",previewDoc:"",id:this.$router.currentRoute.params.id,valid:!1,rules:[function(e){return!!e||"Поле обовʼязкове!"}],submitting:!1,showModal:!1}},computed:a()({},Object(s.c)("docsStore",["document"])),methods:a()({},Object(s.b)("docsStore",["addNewDocumentVersion","getMyDocumentById"]),{dateUpd:function(e){this.date=e},getFile:function(e){e&&(e.size/1024>3e4?this.showAlert("Завантажуваний файл повинен бути менше 30 МБ!"):(this.file=e,this.previewDoc=""+URL.createObjectURL(e)))},addNewVersion:function(e){var t=this,r=new FormData;r.append("id",this.document._id),r.append("date",Date.now()),r.append("file",this.file),r.append("version",this.docVersion),r.append("description",this.docDescription),this.submitting=!0,this.addNewDocumentVersion(r).then(function(e){t.showAlert(e.message),t.$refs.versionForm.reset(),t.submitting=!1,setTimeout(function(){return t.$router.push("/edms")},3e3)}).catch(function(e){t.submitting=!1,t.showAlert(e.message)})},showAlert:function(e){this.infoAlert=e,this.showModal=!0}}),created:function(){var e=this;this.getMyDocumentById(this.id).catch(function(t){e.$router.push("/404")})},components:{appTimer:r("jGXC"),pdfReader:r("XPmI"),fileInput:i.a}}},M93x:function(e,t,r){var n=r("VU/8")(r("xJD8"),r("+OpR"),!1,null,null,null);e.exports=n.exports},MbgV:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{initial:{type:Boolean,default:!1}},data:function(){return{size:{width:-1,height:-1}}},methods:{reset:function(){var e=this.$el.firstChild,t=this.$el.lastChild;e.scrollLeft=1e5,e.scrollTop=1e5,t.scrollLeft=1e5,t.scrollTop=1e5},update:function(){this.size.width=this.$el.offsetWidth,this.size.height=this.$el.offsetHeight}},watch:{size:{deep:!0,handler:function(e){this.reset(),this.$emit("resize",{width:this.size.width,height:this.size.height})}}},render:function(e){var t="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;",r="position: absolute; left: 0; top: 0;";return e("div",{style:t+"animation-name: resizeSensorVisibility;",on:{"~animationstart":this.update}},[e("div",{style:t,on:{scroll:this.update}},[e("div",{style:r+"width: 100000px; height: 100000px;"})]),e("div",{style:t,on:{scroll:this.update}},[e("div",{style:r+"width: 200%; height: 200%;"})])])},beforeDestroy:function(){this.$emit("resize",{width:0,height:0}),this.$emit("resizeSensorBeforeDestroy")},mounted:function(){if(!0===this.initial&&this.$nextTick(this.update),this.$el.offsetParent!==this.$el.parentNode&&(this.$el.parentNode.style.position="relative"),"attachEvent"in this.$el&&!("AnimationEvent"in window)){var e=function(){this.update(),t()}.bind(this),t=function(){this.$el.detachEvent("onresize",e),this.$off("resizeSensorBeforeDestroy",t)}.bind(this);this.$el.attachEvent("onresize",e),this.$on("resizeSensorBeforeDestroy",t),this.reset()}}}},MzOu:function(e,t){},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("7+uW"),a=r("M93x"),s=r.n(a),o=r("IcnI"),i=r("/ocq"),c=[{path:"/",component:r("DB7B")},{path:"/edms",component:r("1GYb")},{path:"/edms/addNew",component:r("q60J")},{path:"/edms/myDocuments",component:r("Bio6")},{path:"/edms/myDocuments/:id",component:r("XTiY")},{path:"/edms/myDocumentEdit/:id",component:r("x/4f")},{path:"/edms/archive",component:r("sCE0")},{path:"/edms/archive/:id",component:r("Qm7s")},{path:"/edms/admin",component:r("QxDH")},{path:"/edms/superAdmin",component:r("yDVY")},{path:"/edms/404",component:r("thLP")},{path:"/edms/:id",component:r("bwAQ")},{path:"*",component:r("thLP")}];n.a.use(i.a);var u=new i.a({routes:c,mode:"history"}),l=!1;u.beforeResolve(function(e,t,r){var n=o.a.state.token;if(l&&(l=!1,r()),n&&"/"!==e.path)switch(o.a.state.usersStore.user.role){case"Admin":l=!0,r("/edms/admin");break;case"superAdmin":l=!0,r("/edms/superAdmin");break;default:l=!0,"/edms/admin"!==e.path&&"/edms/superAdmin"!==e.path?r():r("/edms")}else l=!0,"/"===e.path?r():r("/")});var d=u,p=r("3EgV"),f=r.n(p),m=r("9JMe");Object(m.sync)(o.a,d),n.a.use(f.a),o.a.dispatch("initApp").then(function(){new n.a({el:"#app",store:o.a,router:d,render:function(e){return e(s.a)}})})},"Ng/4":function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-container",{staticClass:"bg",attrs:{fluid:"fluid","fill-height":"fill-height"}},[t("v-layout",{attrs:{"align-center":"align-center","justify-center":"justify-center"}},[t("v-flex",{attrs:{xs12:"xs12",sm8:"sm8",md4:"md4"}},[t("v-card",{staticClass:"elevetion-12"},[t("sign-in")],1)],1)],1)],1)},staticRenderFns:[]}},NiK3:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Dd8w"),a=r.n(n),s=r("NYxO"),o=r("f5j3");t.default={data:function(){return{loaded:!1}},computed:a()({},Object(s.c)("docsStore",["documents"]),{sortingData:function(){return this.documents.slice(0).sort(function(e,t){return e.date<=t.date})}}),methods:a()({},Object(s.b)("docsStore",["getOurDocuments"]),{toDateString:o.a,globalStatus:function(e){switch(e.globalStatus){case"resolved":return{color:"success",status:"Прийнятий"};case"rejected":return{color:"error",status:"Відмовлен"};case"waiting":return{color:"info",status:"На розгляданні"};case"archived":return{color:"secondary",status:"Закритий"}}}}),created:function(){var e=this;this.getOurDocuments().then(function(){e.loaded=!0})}}},Nj6X:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("mvHQ"),a=r.n(n),s=r("Dd8w"),o=r.n(s),i=r("NYxO"),c=r("+osn"),u=r.n(c);t.default={data:function(){return{date:"",docName:"",docVersion:"Перша версія",docDescription:"",file:"",selectedUsers:[],infoAlert:"",previewDoc:"",validForm:!1,rules:[function(e){return!!e||"Обовʼязкове поле!"}],submitting:!1,showModal:!1}},computed:o()({},Object(i.c)("usersStore",["currentUser"])),methods:o()({},Object(i.b)("docsStore",["addNewDocument"]),Object(i.b)("usersStore",["getAllUsersFromGroup"]),{updateSelectedUsers:function(e){this.selectedUsers=e},getFile:function(e){e&&(e.size/1024>3e4?this.showAlert("Файл має бути менше 30 МБ!"):(this.file=e,this.previewDoc=""+URL.createObjectURL(e)))},addNewDoc:function(){var e=this;if(this.selectedUsers.length)if(this.docDescription){this.submitting=!0;var t=new FormData;t.append("title",this.docName),t.append("date",Date.now()),t.append("author",this.currentUser.author),t.append("author_id",this.currentUser._id),t.append("total",this.selectedUsers.length),t.append("groupToken",this.currentUser.groupInvite),t.append("routes",a()(this.selectedUsers)),t.append("file",this.file),t.append("version",this.docVersion),t.append("description",this.docDescription),this.addNewDocument(t).then(function(t){e.showAlert(t.message),e.selectedUsers=[],e.previewDoc="",e.$refs.docForm.reset(),e.submitting=!1}).catch(function(t){e.showAlert(t.message)})}else this.showAlert("Укажите описание!");else this.showAlert("Укажите исполнителей!")},showAlert:function(e){this.infoAlert=e,this.showModal=!0}}),created:function(){this.getAllUsersFromGroup()},components:{chooseAuthors:r("IUVv"),authorsList:r("6acm"),appTimer:r("jGXC"),presetRoutes:r("4z3Q"),pdfReader:r("XPmI"),fileInput:u.a}}},"O/aE":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-subheader",{staticClass:"headline"},[e._v("Список груп")]),r("v-tabs",{attrs:{dark:"dark"}},[e._l(e.groups,function(t,n){return r("v-tab",{key:n},[e._v(e._s(t.name+" Користувачів: "+t.users.length))])}),e._l(e.groups,function(t,n){return r("v-tab-item",{key:n},[e._l(t.users,function(n){return[r("v-card",[r("v-card-title",[r("v-subheader",[e._v(e._s(n.author?n.author:"Не зареєстрован"))])],1),r("v-card-text",[r("p",{staticClass:"mb-0"},[e._v("Роль: "+e._s(n.role?n.role:"Не зареєстрован"))]),r("p",{staticClass:"mb-0"},[e._v("Дата рeєстрації: "+e._s(e.toDateString(+n.dateRegistration)))]),r("p",{staticClass:"mb-0"},[e._v("Email: "+e._s(n.email))]),r("p",{staticClass:"mb-0"},[e._v("Логін: "+e._s(n.login))])]),"Admin"===n.role?r("v-card-actions",[r("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.openSendModal(n._id,n.email)}}},[e._v("Відправити доступи ща раз")]),r("v-btn",{attrs:{color:"error"},on:{click:function(r){e.deleteAdmin(n._id,t._id)}}},[e._v("Видалити адміністратора")])],1):e._e()],1),r("v-divider")]})],2)})],2),r("v-dialog",{model:{value:e.sendModal,callback:function(t){e.sendModal=t},expression:"sendModal"}},[r("v-card",[r("v-card-title",[r("v-subheader",[e._v("Вкажіть почту, на яку відправиться доступ")])],1),r("v-card-text",[r("v-text-field",{attrs:{type:"email",label:"Email адміністратора"},model:{value:e.admin.email,callback:function(t){e.$set(e.admin,"email",t)},expression:"admin.email"}})],1),r("v-card-actions",[r("v-btn",{attrs:{color:"primary"},on:{click:function(t){t.preventDefault(),e.submitSend(t)}}},[e._v("Відправити")])],1)],1)],1)],1)},staticRenderFns:[]}},OQeb:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Dd8w"),a=r.n(n),s=r("NYxO"),o=r("f5j3");t.default={data:function(){return{loaded:!1}},computed:a()({},Object(s.c)("docsStore",["documents"]),Object(s.c)("usersStore",["currentUser"]),{sortingData:function(){return this.documents.length?this.documents.slice(0).sort(function(e,t){return e.date<=t.date}):[]}}),methods:a()({},Object(s.b)("docsStore",["getPreviews"]),Object(s.b)("usersStore",["getCurrentUser"]),{toDateString:o.a,incomingDate:function(e){var t=this,r=e.routes.find(function(e){return e.author===t.currentUser.author});return this.toDateString(+r.dateIncoming)}}),created:function(){var e=this;this.getPreviews().then(function(){e.loaded=!0})}}},Ozar:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"bg-simple",attrs:{fluid:"fluid","grid-list-md":"grid-list-md",app:"app"}},[r("v-alert",{attrs:{type:"info",value:!e.loaded}},[e._v("Завантажується...")]),r("v-alert",{attrs:{type:"warning",value:e.loaded&&!e.sortingData.length}},[e._v("У вас немає опублікованих документів!")]),e._l(e.sortingData,function(t){return[r("v-card",{staticClass:"px-3 py-3",attrs:{color:e.globalStatus(t).color}},[r("v-subheader",{staticClass:"headline"},[e._v(e._s(t.title))]),r("v-subheader",[e._v(e._s("Дата публікації: "+e.toDateString(+t.date)))]),r("v-subheader",[e._v("Статус: "+e._s(e.globalStatus(t).status))]),r("v-btn",{attrs:{to:"/edms/myDocuments/"+t._id,color:"primary"}},[e._v("Перейти"),r("v-icon",{attrs:{right:"right",dark:"dark"}},[e._v("exit_to_app")])],1)],1),r("v-divider")]})],2)},staticRenderFns:[]}},POKh:function(e,t,r){var n=r("VU/8")(r("MbgV"),null,!1,function(e){r("8Y90")},null,null);e.exports=n.exports},Pd3U:function(e,t){},QjmY:function(e,t,r){"use strict";var n=r("//Fk"),a=r.n(n),s=r("9+J+"),o=r("IcnI"),i={namespaced:!0,state:{data:[],user:{}},getters:{users:function(e){return e.data},currentUser:function(e){return e.user}},mutations:{setUser:function(e,t){e.user=t}},actions:{getAllUsersFromGroup:function(e){s.a.usersApi.getAllUsersFromGroup(o.a.getters.headerToken).then(function(t){e.state.data=t}).catch(function(e){return[]})},getCurrentUser:function(e){return new a.a(function(t,r){s.a.usersApi.getCurrentUser(o.a.getters.headerToken).then(function(r){e.commit("setUser",r),t()}).catch(function(e){return r(e)})})},sendMail:function(e,t){return s.a.sendMail(t,o.a.getters.headerToken).then(function(e){return e})}}};t.a=i},Qm7s:function(e,t,r){var n=r("VU/8")(r("z4Se"),r("8vlY"),!1,null,null,null);e.exports=n.exports},QxDH:function(e,t,r){var n=r("VU/8")(r("IPEZ"),r("bai5"),!1,function(e){r("MzOu")},"data-v-466445d5",null);e.exports=n.exports},SF59:function(e,t,r){var n=r("VU/8")(r("q5Z7"),r("O/aE"),!1,null,null,null);e.exports=n.exports},SGph:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"bg-simple",attrs:{fluid:"fluid","grid-list-md":"grid-list-md",app:"app"}},[r("v-card",{staticClass:"px-3 py-3"},[r("v-subheader",{staticClass:"headline"},[e._v(e._s(e.document.title))]),r("app-timer",{on:{dateUpdate:e.dateUpd}})],1),r("v-card",{staticClass:"px-3 py-3"},[r("v-form",{ref:"versionForm",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-text-field",{attrs:{label:"Назва версии",required:"required",rules:e.rules},model:{value:e.docVersion,callback:function(t){e.docVersion=t},expression:"docVersion"}}),r("file-input",{attrs:{label:"Додайте файл документа",accept:".pdf",required:!0},on:{file:function(t){e.getFile(t)}}}),e.previewDoc?r("pdf-reader",{attrs:{src:e.previewDoc}}):r("div",{staticClass:"empty-pdf"},[e._v("Завантажте файл документа")]),r("v-text-field",{attrs:{label:"Введіть короткий опис версії","multi-line":"multi-line",required:"required",rules:e.rules},model:{value:e.docDescription,callback:function(t){e.docDescription=t},expression:"docDescription"}}),r("v-btn",{attrs:{disabled:!e.valid||!e.file||e.submitting,color:"primary"},on:{click:e.addNewVersion}},[e._v("Опублікувати")])],1)],1),r("v-dialog",{model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[r("v-card",{staticClass:"px-3 py-3"},[e._v(e._s(e.infoAlert))])],1)],1)},staticRenderFns:[]}},SjSr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Dd8w"),a=r.n(n),s=r("NYxO"),o=r("f5j3");t.default={data:function(){return{id:this.$router.currentRoute.params.id,selected:"",comment:"",infoAlert:"",rejected:!1,valid:!1,rules:[function(e){return!!e||"Поле обовʼязкове!"}],submitting:!1,alert:!1}},computed:a()({},Object(s.c)("docsStore",["document"]),Object(s.c)("usersStore",["currentUser"]),Object(s.c)(["privateKey"])),methods:a()({},Object(s.b)("docsStore",["getDocumentById","postVote"]),{toDateString:o.a,submitDoc:function(e){var t=this;this.selected&&this.comment&&(this.submitting=!0,this.postVote({id:this.id,vote:this.selected,comment:this.comment,author:this.currentUser}).then(function(e){"reject"===t.selected&&(t.rejected=!0),t.showAlert(e.message),t.$refs.signForm.reset(),t.getDocumentById(t.id),t.submitting=!1}).catch(function(e){t.showAlert("Виникла помилка: "+e.message),t.submitting=!1}))},showAlert:function(e){this.infoAlert=e,this.alert=!0}}),created:function(){var e=this;this.getDocumentById(this.id).catch(function(){e.$router.push("404")})},components:{docTabs:r("XRoe"),signersList:r("IiRR")}}},UHoW:function(e,t,r){var n=r("VU/8")(r("dMY6"),r("u+Uz"),!1,null,null,null);e.exports=n.exports},VikA:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"reader",attrs:{id:"pdfjs"}},e._l(e.numPages,function(t){return r("pdf",{key:t,staticStyle:{display:"block"},attrs:{src:e.loadingTask,page:t}})}))},staticRenderFns:[]}},W5YU:function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-footer",{staticClass:"px-3",attrs:{app:"app",dark:"dark"}},[t("span",{staticClass:"white--text"},[this._v("© 2018 Created by Mihail Pogosyan (Ascold)")])])},staticRenderFns:[]}},Wlrp:function(e,t,r){"use strict";var n=r("9+J+"),a=r("IcnI"),s=function(e){var t=parseInt(e/1e3%60),r=parseInt(e/6e4%60),n=parseInt(e/36e5%24);return{hours:n=n<10?"0"+n:""+n,minutes:r=r<10?"0"+r:""+r,seconds:t=t<10?"0"+t:""+t}},o={namespaced:!0,state:{docs:[],dateRange:{start:0,end:1/0}},mutations:{setRange:function(e,t){e.dateRange=t}},getters:{docsCreated:function(e){return e.docs.filter(function(t){return t.date>=e.dateRange.start&&t.date<=e.dateRange.end}).length},docsSigned:function(e){return e.docs.filter(function(e){return"resolved"===e.globalStatus}).filter(function(t){return t.date>=e.dateRange.start&&t.date<=e.dateRange.end}).length},docsRejected:function(e){return e.docs.filter(function(e){return"archived"===e.globalStatus}).filter(function(t){return t.date>=e.dateRange.start&&t.date<=e.dateRange.end}).length},docsTimingSign:function(e){var t=e.docs.filter(function(e){return"resolved"===e.globalStatus}).filter(function(t){return t.date>=e.dateRange.start&&t.date<=e.dateRange.end});if(!t.length)return 0;var r=0;t.forEach(function(e){e.routes.forEach(function(e){r+=e.dateSigning-e.dateIncoming}),r/=e.routes.length}),r/=t.length;var n=s(r);return"Годин: "+n.hours+", хвилин: "+n.minutes+", секунд: "+n.seconds},docsTimingResolve:function(e){var t=e.docs.filter(function(e){return"resolved"===e.globalStatus}).filter(function(t){return t.date>=e.dateRange.start&&t.date<=e.dateRange.end});if(!t.length)return 0;var r=0;t.forEach(function(e){r+=e.resolveDate-e.date}),r/=t.length;var n=s(r);return"Годин: "+n.hours+", хвилин: "+n.minutes+", секунд: "+n.seconds},usersStat:function(e){var t=e.docs.filter(function(t){return t.date>=e.dateRange.start&&t.date<=e.dateRange.end}),r=[],n=a.a.getters["groupsStore/currentGroup"],s=null;return n.users&&(s=n.users.filter(function(e){return"Admin"!==e.role})),r={fields:[{value:"author",text:"ПІБ",sortable:!0},{value:"role",text:"Роль",sortable:!0},{value:"created",text:"Опублікував документів",sortable:!0},{value:"resolvedDocs",text:"Прийнятих документів",sortable:!0},{value:"rejectedDocs",text:"Відмовлених документів",sortable:!0},{value:"signings",text:"Піставлені підписи",sortable:!0},{value:"rejecteds",text:"Відмовлених підписів",sortable:!0}],items:[]},s&&s.forEach(function(e){r.items.push({value:!1,author:e.author,role:e.role,resolvedDocs:t.filter(function(t){return t.author_id===e._id&&"resolved"===t.globalStatus}).length,rejectedDocs:t.filter(function(t){return t.author_id===e._id&&"archieved"===t.globalStatus}).length,signings:t.filter(function(t){return t.routes.find(function(t){return t._id===e._id&&"resolve"===t.status})?t:null}).length,rejecteds:t.filter(function(t){return t.routes.find(function(t){return t._id===e._id&&"reject"===t.status})?t:null}).length,created:t.filter(function(t){return t.author_id===e._id}).length})}),r}},actions:{getDocsStat:function(e){return n.a.statApi.getDocsStat(a.a.getters.headerToken).then(function(t){e.state.docs=t}).catch(function(e){throw new Error(e.message)})}}};t.a=o},XPmI:function(e,t,r){var n=r("VU/8")(r("wobF"),r("VikA"),!1,function(e){r("IXfK")},"data-v-07da5ad6",null);e.exports=n.exports},XRoe:function(e,t,r){var n=r("VU/8")(r("g6Cy"),r("GM0+"),!1,null,null,null);e.exports=n.exports},XTiY:function(e,t,r){var n=r("VU/8")(r("m4RX"),r("9z6W"),!1,null,null,null);e.exports=n.exports},bai5:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"bg-simple",attrs:{fluid:"fluid",app:"app","grid-list-md":"grid-list-md"}},[r("v-subheader",{staticClass:"headline"},[e._v("Панель адміністратора "+e._s(e.currentGroup.name))]),r("v-tabs",[r("v-tab",[e._v("Створити роль в групі")]),r("v-tab-item",[r("v-layout",{attrs:{row:"row",wrap:"wrap"}},[r("v-flex",{attrs:{xs12:"xs12",lg6:"lg6"}},[r("v-card",{staticClass:"px-3 py-3 mt-2"},[r("v-form",{ref:"adminForm",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-text-field",{attrs:{type:"text",label:"ПІБ власника",placeholder:"Фамілія, Иʼмя, По батькові",required:"required",rules:e.rules},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}}),r("v-text-field",{attrs:{type:"text",required:"required",rules:e.rules,label:"Назва роли корстувача",placeholder:"Роль"},model:{value:e.user.role,callback:function(t){e.$set(e.user,"role",t)},expression:"user.role"}}),r("v-text-field",{attrs:{type:"number",label:"Строк дії сертификата, діб",placeholder:"0 - необмежено",rules:e.rules,required:"required"},model:{value:e.user.cerTime,callback:function(t){e.$set(e.user,"cerTime",t)},expression:"user.cerTime"}}),r("v-text-field",{attrs:{type:"email",required:"required",label:"Введіть Еmail користувача",description:"Увага! На нього відправиться повідомлення та ключі цфрового підпису!",rules:e.rules,placeholder:"example@mail.ua"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),r("v-btn",{attrs:{color:"primary",disabled:!e.valid},on:{click:function(t){t.preventDefault(),e.createUser(t)}}},[e._v("Створити")])],1)],1)],1),r("v-flex",{attrs:{xs12:"xs12",lg6:"lg6"}},[r("v-card",{staticClass:"px-3 py-3 mt-2"},[r("v-subheader",{staticClass:"headline"},[e._v("Користувачі групи: "+e._s(e.currentGroup.name))]),r("div",{staticClass:"users-list"},[e._l(e.currentGroup.users,function(t){return[r("v-card",{staticClass:"px-3"},[r("v-subheader",[e._v(e._s(t.author))]),r("p",{staticClass:"mb-0"},[e._v("Роль: "+e._s(t.role))]),r("p",{staticClass:"mb-0"},[e._v("Зареєстрован: "+e._s(e.toDateString(+t.dateRegistration)))])],1),r("v-divider")]})],2)],1)],1)],1)],1),r("v-tab",[e._v("Статистика групи")]),r("v-tab-item",[r("users-stat")],1)],1),r("v-dialog",{model:{value:e.showAlert,callback:function(t){e.showAlert=t},expression:"showAlert"}},[r("v-card",{staticClass:"px-3 py-4"},[e._v(e._s(e.info))])],1)],1)},staticRenderFns:[]}},bwAQ:function(e,t,r){var n=r("VU/8")(r("SjSr"),r("xy5d"),!1,null,null,null);e.exports=n.exports},cOAU:function(e,t,r){var n=r("VU/8")(r("DL3K"),r("FVt8"),!1,function(e){r("CCit")},"data-v-17c4a669",null);e.exports=n.exports},ckBy:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Dd8w"),a=r.n(n),s=r("NYxO"),o=r("+osn"),i=r.n(o);t.default={components:{fileInput:i.a},data:function(){return{userLogin:"",userPassword:"",passphrase:"",privateKeyFile:null,success:!1,error:"",validUser:!1,validAdmin:!1,rules:[function(e){return!!e||"Обовʼязкове поле!"}]}},methods:a()({},Object(s.b)("usersStore",["getCurrentUser"]),Object(s.b)(["logIn","logInAdmin"]),{signIn:function(e){var t=this;this.logIn({login:this.userLogin,passphrase:this.passphrase,privateKeyFile:this.privateKeyFile}).then(function(){t.success=!0,t.error="",t.$router.push("edms")}).catch(function(e){t.success=!1,t.error=e.message})},signInAdmin:function(e){var t=this;this.logInAdmin({userLogin:this.userLogin,userPassword:this.userPassword}).then(function(){t.success=!0,t.error="",t.getCurrentUser().then(function(){t.$router.push("edms/admin")})}).catch(function(e){t.success=!1,t.error=e.message})}})}},dAhr:function(e,t,r){var n=r("VU/8")(r("mcfJ"),null,!1,function(e){r("AgTH")},null,null);e.exports=n.exports},dMY6:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("BO1k"),a=r.n(n),s=r("Dd8w"),o=r.n(s),i=r("NYxO");t.default={data:function(){return{admin:{email:"",groupId:""},valid:!1,rules:[function(e){return!!e||"Поле обовʼязкове!"}]}},methods:o()({},Object(i.b)("groupsStore",["createNewAdmin"]),{createAdmin:function(){var e=this;this.createNewAdmin(o()({},this.admin)).then(function(t){e.$refs.createAdminForm.reset(),e.$emit("alert",t.message)}).catch(function(t){e.$emit("alert",t.message)})}}),computed:o()({},Object(i.c)("groupsStore",["groups"]),{groupsOptions:function(){var e=[{value:"",text:"Не обрано"}],t=!0,r=!1,n=void 0;try{for(var s,o=a()(this.groups);!(t=(s=o.next()).done);t=!0){var i=s.value;e.push({value:i._id,text:i.name})}}catch(e){r=!0,n=e}finally{try{!t&&o.return&&o.return()}finally{if(r)throw n}}return e}})}},dX93:function(e,t){e.exports={render:function(){var e=this.$createElement;return(this._self._c||e)("v-subheader",[this._v("Поточний час: "+this._s(this.date))])},staticRenderFns:[]}},ePUA:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Dd8w"),a=r.n(n),s=r("NYxO");t.default={data:function(){return{selectedUsers:[],presetName:"",showModal:!1,rules:[function(e){return!!e||"Обовʼязкове поле!"}],valid:!1}},computed:Object(s.c)("usersStore",["currentUser"]),methods:a()({},Object(s.b)("docsStore",["createPreset","getPresets"]),{updatePresetRoute:function(e){this.selectedUsers=e},createNewPreset:function(e){var t=this,r={title:this.presetName,routes:this.selectedUsers,group:this.currentUser.groupInvite};this.createPreset(r).then(function(e){t.$refs.routesEditorForm.reset(),t.selectedUsers=[],t.showModal=!1,t.getPresets()})}}),components:{chooseAuthors:r("IUVv"),authorsList:r("6acm")}}},eoK5:function(e,t){},f5j3:function(e,t,r){"use strict";t.a=function(e){var t=new Date(e);return(t.getDate()<10?"0"+t.getDate():t.getDate())+"."+(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"."+t.getFullYear()+" - "+(t.getHours()<10?"0"+t.getHours():t.getHours())+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())}},g6Cy:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Dd8w"),a=r.n(n),s=r("NYxO");t.default={data:function(){return{tabIndex:0}},computed:a()({},Object(s.c)("docsStore",["document","checked"])),components:{pdfReader:r("XPmI")}}},gVe5:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{userForMail:{token:"",login:"",email:""},info:"",showInfo:!1}},methods:{openInfo:function(e){this.info=e,this.showInfo=!0}},components:{createGroup:r("cOAU"),createAdmin:r("UHoW"),groupsList:r("SF59")}}},humj:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Dd8w"),a=r.n(n),s=r("NYxO"),o=r("f5j3");t.default={props:{rejected:Boolean},methods:{toDateString:o.a},computed:a()({},Object(s.c)("docsStore",["document"]),{signedAuthors:function(){return this.document.routes?this.document.routes.filter(function(e){return"resolve"===e.status}):[]},waitingAuthors:function(){return this.document.routes?this.document.routes.filter(function(e){return"waiting"===e.status}):[]}})}},jDSw:function(e,t,r){var n=r("VU/8")(r("BNfl"),r("0aZ9"),!1,function(e){r("AcWC")},"data-v-97222ab0",null);e.exports=n.exports},jGXC:function(e,t,r){var n=r("VU/8")(r("BwF3"),r("dX93"),!1,null,null,null);e.exports=n.exports},jjq0:function(e,t,r){"use strict";var n=r("//Fk"),a=r.n(n),s=r("Dd8w"),o=r.n(s),i=r("9+J+"),c=r("IcnI"),u=r("aMZi"),l={namespaced:!0,state:{documents:[],presets:[],document:{},checked:null},getters:{documents:function(e){return e.documents},document:function(e){return e.document},presets:function(e){return e.presets},checked:function(e){return e.checked}},mutations:{},actions:{getPreviews:function(e){return i.a.documentsApi.getPreviewsJSON(c.a.getters.headerToken).then(function(t){e.state.documents=t}).catch(function(e){throw new Error(e)})},getDocumentById:function(e,t){return i.a.documentsApi.getDocumentByIdJSON(t,c.a.getters.headerToken).then(function(t){return e.state.document=t,e.dispatch("checkSigns"),null}).catch(function(e){throw new Error(e)})},getMyDocumentById:function(e,t){return i.a.documentsApi.getMyDocumentByIdJSON(t,c.a.getters.headerToken).then(function(t){return e.state.document=t,e.dispatch("checkSigns"),null}).catch(function(e){throw new Error(e)})},postVote:function(e,t){var r=t.id,n=t.vote,s=t.comment,l=t.author;if("resolve"===n){var d=c.a.getters.privateKey,p="";return i.a.documentsApi.getFileContent(e.state.document.versions[0].file,o()({},c.a.getters.headerToken,{responseType:"blob"})).then(function(e){return new a.a(function(t){var r=new FileReader;r.onload=function(e){p=new Uint8Array(e.target.result),t(p)},r.readAsArrayBuffer(e)})}).then(function(e){var t={data:e,privateKeys:d,detached:!0};return u.sign(t)}).then(function(e){return i.a.documentsApi.postVote({id:r,vote:n,comment:s,author:l,signature:e.signature,file:p},c.a.getters.headerToken).then(function(e){return e})}).catch(function(e){throw new Error(e.message||e)})}return i.a.documentsApi.postVote({id:r,vote:n,comment:s,author:l,signature:null},c.a.getters.headerToken).then(function(e){return e}).catch(function(e){throw new Error(e.message)})},addNewDocument:function(e,t){return i.a.documentsApi.postNewDocument(t,c.a.getters.headerToken).then(function(e){return e}).catch(function(e){throw new Error(e.message)})},addNewDocumentVersion:function(e,t){return i.a.documentsApi.postNewVersion(t,c.a.getters.headerToken).then(function(e){return e}).catch(function(e){throw new Error(e.message)})},getPresets:function(e){i.a.documentsApi.getPresets(c.a.getters.headerToken).then(function(t){e.state.presets=t}).catch(function(e){throw new Error(e)})},createPreset:function(e,t){return i.a.documentsApi.createPreset(t,c.a.getters.headerToken).then(function(e){return e}).catch(function(e){throw new Error(e)})},getOurDocuments:function(e){return i.a.documentsApi.getOurDocumentsPreview(c.a.getters.headerToken).then(function(t){return e.state.documents=t,null}).catch(function(e){throw new Error(e)})},getArchiveDocuments:function(e){return i.a.documentsApi.getArchiveDocuments(c.a.getters.headerToken).then(function(t){return e.state.documents=t,null}).catch(function(e){throw new Error(e)})},getArchiveDocumentById:function(e,t){return i.a.documentsApi.getArchiveDocument(t,c.a.getters.headerToken).then(function(t){return e.state.document=t,e.dispatch("checkSigns"),null}).catch(function(e){throw new Error(e)})},closeDocumentById:function(e,t){return i.a.documentsApi.closeDocumentById(t,c.a.getters.headerToken).catch(function(e){throw new Error(e)})},checkSigns:function(e){return i.a.documentsApi.checkSigns(e.state.document._id,c.a.getters.headerToken).then(function(t){e.state.checked=t.message}).catch(function(e){throw new Error(e.message)})}}};t.a=l},kXoz:function(e,t){},ka4I:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"bg-simple",attrs:{fluid:"fluid","grid-list-md":"grid-list-md"}},[r("v-alert",{attrs:{type:"info",value:!e.loaded}},[e._v("Завантажується...")]),r("v-alert",{attrs:{type:"error",value:e.loaded&&!e.sortingData.length}},[e._v("Доступних документів немає")]),e._l(e.sortingData,function(t){return[r("v-card",{staticClass:"px-3 py-3",attrs:{color:e.globalStatus(t).color}},[r("v-subheader",{staticClass:"headline"},[e._v(e._s(t.title))]),r("v-subheader",[e._v(e._s("Дата публікації: "+e.toDateString(+t.date)))]),r("v-subheader",[e._v("Статус: "+e._s(e.globalStatus(t).status))]),r("v-btn",{attrs:{to:"/edms/archive/"+t._id,color:"primary"}},[e._v("Перейти"),r("v-icon",{attrs:{right:"right",dark:"dark"}},[e._v("exit_to_app")])],1)],1),r("v-divider")]})],2)},staticRenderFns:[]}},m4RX:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Dd8w"),a=r.n(n),s=r("NYxO"),o=r("f5j3");t.default={data:function(){return{id:this.$router.currentRoute.params.id}},computed:a()({},Object(s.c)("docsStore",["document"]),{closerViewer:function(){return this.document.routes.find(function(e){return"waiting"===e.status}).author}}),methods:a()({},Object(s.b)("docsStore",["getMyDocumentById","closeDocumentById"]),{toDateString:o.a,closeDocument:function(){this.closeDocumentById(this.id)}}),created:function(){var e=this;this.getMyDocumentById(this.id).catch(function(t){e.$router.push("404")})},components:{docTabs:r("XRoe"),signersList:r("IiRR")}}},mcfJ:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("iwQb");if("server"===Object({NODE_ENV:"production"}).VUE_ENV)var a=Object(n.a)({});else{var s=r("ytml").default,o=r("N1Pc");a=Object(n.a)(s(o))}t.default=a},mrDm:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Gu7T"),a=r.n(n),s=r("BO1k"),o=r.n(s);t.default={props:{value:{type:[Array,String]},accept:{type:String,default:"*"},label:{type:String,default:"choose_file"},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1}},data:function(){return{filename:""}},watch:{value:function(e){this.filename=e}},mounted:function(){this.filename=this.value},methods:{getFormData:function(e){var t=[],r=!0,n=!1,a=void 0;try{for(var s,i=o()(e);!(r=(s=i.next()).done);r=!0){var c=s.value,u=new FormData;u.append("data",c,c.name),t.push(u)}}catch(e){n=!0,a=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw a}}return t},onFocus:function(){this.disabled||this.$refs.fileInput.click()},onFileChange:function(e){var t=e.target.files||e.dataTransfer.files;t?t.length>0?this.filename=[].concat(a()(t)).map(function(e){return e.name}).join(", "):this.filename=null:this.filename=e.target.value.split("\\").pop(),this.$emit("input",this.filename),this.$emit("file",t[0])}}}},"n+E9":function(e,t,r){"use strict";var n=r("mtWM"),a=r.n(n),s={getCurrentUser:function(e){return a.a.get("http://localhost:3000/api/getCurrentUser",e).then(function(e){return e.data}).catch(function(e){throw console.error(e),new Error(e)})},getAllUsersFromGroup:function(e){return a.a.get("http://localhost:3000/api/getAllUsers",e).then(function(e){return e.data}).catch(function(e){return console.log(e),[]})},createNewUser:function(e,t){return a.a.post("http://localhost:3000/api/createNewUser",e,t).catch(function(e){throw console.log(e),new Error(e)})},createKeys:function(e,t){var r=e.cert,n=e.userId;return a.a.post("http://localhost:3000/api/createNewKeys",{cert:r,userId:n},t).catch(function(e){throw console.log(e),new Error(e)})}},o={getPreviewsJSON:function(e){return a.a.get("http://localhost:3000/api/getPreviews",e).then(function(e){return e.data}).catch(function(e){throw console.error(e),new Error(e)})},getDocumentByIdJSON:function(e,t){return a.a.get("http://localhost:3000/api/getDocument/"+e,t).then(function(e){return e.data}).catch(function(e){throw console.log(e),new Error(e)})},getFileContent:function(e,t){return a.a.get("http://localhost:3000"+e,t).then(function(e){return e.data}).catch(function(e){throw console.log(e),new Error(e)})},getMyDocumentByIdJSON:function(e,t){return a.a.get("http://localhost:3000/api/getMyDocument/"+e,t).then(function(e){return e.data}).catch(function(e){throw console.log(e),new Error(e)})},getPresets:function(e){return a.a.get("http://localhost:3000/api/getDocPresets",e).then(function(e){return e.data}).catch(function(e){throw new Error(e)})},getOurDocumentsPreview:function(e){return a.a.get("http://localhost:3000/api/getOurDocuments",e).then(function(e){return e.data}).catch(function(e){throw new Error(e)})},getArchiveDocuments:function(e){return a.a.get("http://localhost:3000/api/getArchiveDocuments",e).then(function(e){return e.data}).catch(function(e){throw new Error(e)})},getArchiveDocument:function(e,t){return a.a.get("http://localhost:3000/api/getArchiveDocument/"+e,t).then(function(e){return e.data}).catch(function(e){throw new Error(e)})},postVote:function(e,t){return a.a.post("http://localhost:3000/api/postVote",e,t).then(function(e){return e.data}).catch(function(e){throw console.error(e.response.data.message),new Error(e.response.data.message)})},postNewDocument:function(e,t){return a.a.post("http://localhost:3000/api/postNewDocument",e,t).then(function(e){return e.data}).catch(function(e){throw console.log(e),new Error(e)})},postNewVersion:function(e,t){return a.a.put("http://localhost:3000/api/postNewVersion",e,t).then(function(e){return e.data}).catch(function(e){throw console.log(e),new Error(e.response.data.message)})},createPreset:function(e,t){return a.a.post("http://localhost:3000/api/createPreset",e,t).then(function(e){return e.data}).catch(function(e){throw new Error(e)})},closeDocumentById:function(e,t){return console.log(e),a.a.post("http://localhost:3000/api/closeDocument",{id:e},t).then(function(e){return e.data}).catch(function(e){throw new Error(e)})},checkSigns:function(e,t){return a.a.get("http://localhost:3000/api/checkSigns/"+e,t).then(function(e){return e.data}).catch(function(e){throw new Error(e)})}},i={getAllGroups:function(e){return a.a.get("http://localhost:3000/api/getAllGroups",e).then(function(e){return e.data}).catch(function(e){return[]})},getGroupByToken:function(e,t){return a.a.get("http://localhost:3000/api/getGroup/"+e,t).then(function(e){return e.data}).catch(function(e){return[]})},createNewGroup:function(e,t){return a.a.post("http://localhost:3000/api/createNewGroup",e,t).catch(function(e){throw new Error(e.response.data.message)})},createNewAdmin:function(e,t){return a.a.post("http://localhost:3000/api/createNewAdmin",e,t).catch(function(e){throw new Error(e.response.data.message)})},removeAdmin:function(e,t){var r=e.adminId,n=e.groupId;return a.a.delete("http://localhost:3000/api/removeAdmin/"+n+"/"+r,t).catch(function(e){throw new Error(e.response.data.message)})},sendInviteAdmin:function(e,t){return a.a.post("http://localhost:3000/api/sendInviteAdmin",e,t).catch(function(e){throw new Error(e.response.data.message)})}},c={getDocsStat:function(e){return a.a.get("http://localhost:3000/api/getDocsStat",e).then(function(e){return e.data}).catch(function(e){throw new Error(e.response.data.message)})}};r.d(t,"a",function(){return u});var u={usersApi:s,documentsApi:o,groupsApi:i,statApi:c,logIn:function(e){return a.a.post("http://localhost:3000/api/signIn",e).then(function(e){return e.data}).catch(function(e){throw new Error(e.response.data.error)})},logInAdmin:function(e){return a.a.post("http://localhost:3000/api/signInAdmin",e).then(function(e){return e.data}).catch(function(e){throw new Error(e.response.data.error)})},logout:function(){return a.a.post("http://localhost:3000/api/logout").then(function(e){return e.data}).catch(function(e){throw new Error(e.response)})},sendMail:function(e,t){return a.a.post("http://localhost:3000/api/mail",e,t).then(function(e){return e.data}).catch(function(e){throw new Error(e.response)})},signUp:function(e){return a.a.post("http://localhost:3000/api/signUp",e).then(function(e){return e.data}).catch(function(e){throw new Error(e.response.error)})}}},q5Z7:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Dd8w"),a=r.n(n),s=r("NYxO"),o=r("f5j3");t.default={data:function(){return{admin:{email:"",adminId:""},sendModal:!1}},computed:a()({},Object(s.c)("groupsStore",["groups"])),methods:a()({},Object(s.b)("groupsStore",["getAllGroups","removeAdmin","sendInviteAdmin"]),{toDateString:o.a,deleteAdmin:function(e,t){this.removeAdmin({adminId:e,groupId:t})},openSendModal:function(e,t){this.admin={email:t,adminId:e},this.sendModal=!0},submitSend:function(){var e=this;this.sendInviteAdmin(this.admin).then(function(t){return e.$emit("alert",t.message)}).catch(function(t){return e.$emit("alert",t.message)})}}),created:function(){this.getAllGroups()}}},q60J:function(e,t,r){var n=r("VU/8")(r("Nj6X"),r("BIkM"),!1,null,null,null);e.exports=n.exports},r7Ba:function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-container",[t("h1",[this._v("404!")]),t("p",[this._v("Страница не найдена!")])])},staticRenderFns:[]}},r81e:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[e.rejected?r("v-alert",{attrs:{value:!0,type:"error"}},[e._v("Документ відмовлен в підписі Вами")]):r("v-tabs",[e.signedAuthors.length?r("v-tab",[e._v("Підписавщі")]):e._e(),e.signedAuthors.length?r("v-tab-item",[r("div",{staticClass:"signers-list"},[e._l(e.signedAuthors,function(t){return[r("v-card",{staticClass:"px-3 pb-3",attrs:{color:"success"}},[r("v-subheader",[e._v(e._s(t.author))]),r("v-subheader",[e._v(e._s(t.role))]),r("v-subheader",[e._v("Час підпису: "+e._s(e.toDateString(+t.dateSigning)))]),r("v-subheader",[e._v("Коментар підписанта:")]),t.comment?r("v-card",{staticClass:"mt-1 px-2 py-2"},[r("p",{staticClass:"mb-0"},[e._v(e._s(t.comment))])]):e._e()],1),r("v-divider")]})],2)]):e._e(),e.waitingAuthors.length?r("v-tab",[e._v("В черзі на підпис")]):e._e(),e.waitingAuthors.length?r("v-tab-item",[r("div",{staticClass:"signers-list"},[e._l(e.waitingAuthors,function(t){return[r("v-card",{attrs:{color:"info"}},[r("v-subheader",[e._v(e._s(t.author))]),r("v-subheader",[e._v(e._s(t.role))])],1),r("v-divider")]})],2)]):e._e()],1)],1)},staticRenderFns:[]}},"rb+C":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-tabs",{attrs:{app:"app"}},[r("v-tab",[e._v("Як користувач")]),r("v-tab-item",[r("v-card",[r("v-card-text",[e.success?r("v-alert",{attrs:{type:"success",value:!0}},[e._v("Ви успішно авторизувались!")]):e._e(),e.error?r("v-alert",{attrs:{type:"error",value:!0}},[e._v(e._s(e.error))]):e._e(),r("v-form",{model:{value:e.validUser,callback:function(t){e.validUser=t},expression:"validUser"}},[r("v-text-field",{attrs:{"prepend-icon":"person",label:"Ваш логін",rules:e.rules,required:"required"},model:{value:e.userLogin,callback:function(t){e.userLogin=t},expression:"userLogin"}}),r("file-input",{attrs:{label:"Завантажити приватний ключ",required:!0,accept:".key"},on:{file:function(t){e.privateKeyFile=t}}}),r("v-text-field",{attrs:{"prepend-icon":"lock",type:"password",label:"Парольна фраза ключа",rules:e.rules,required:"required"},model:{value:e.passphrase,callback:function(t){e.passphrase=t},expression:"passphrase"}})],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{disabled:!e.validUser,color:"primary"},on:{click:function(t){t.preventDefault(),e.signIn(t)}}},[e._v("Авторизуватись")])],1)],1)],1),r("v-tab",[e._v("Як адміністратор")]),r("v-tab-item",[r("v-card",[r("v-card-text",[e.success?r("v-alert",{attrs:{type:"success",value:!0}},[e._v("Ви успішно авторизувались!")]):e._e(),e.error?r("v-alert",{attrs:{type:"error",value:!0}},[e._v(e._s(e.error))]):e._e(),r("v-form",{model:{value:e.validAdmin,callback:function(t){e.validAdmin=t},expression:"validAdmin"}},[r("v-text-field",{attrs:{"prepend-icon":"person",type:"text",label:"Ваш логін",rules:e.rules,required:"required"},model:{value:e.userLogin,callback:function(t){e.userLogin=t},expression:"userLogin"}}),r("v-text-field",{attrs:{"prepend-icon":"lock",type:"password",label:"Ваш пароль",rules:e.rules,required:"required"},model:{value:e.userPassword,callback:function(t){e.userPassword=t},expression:"userPassword"}})],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{disabled:!e.validAdmin,color:"primary"},on:{click:function(t){t.preventDefault(),e.signInAdmin(t)}}},[e._v("Авторизуватись")])],1)],1)],1)],1)},staticRenderFns:[]}},rtfE:function(e,t){},sCE0:function(e,t,r){var n=r("VU/8")(r("KLGY"),r("ka4I"),!1,null,null,null);e.exports=n.exports},"sw/x":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={components:{signIn:r("tHyd")}}},tHyd:function(e,t,r){var n=r("VU/8")(r("ckBy"),r("rb+C"),!1,null,null,null);e.exports=n.exports},teZk:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{fluid:"fluid",app:"app"}},[r("v-subheader",{staticClass:"headline"},[e._v("Панель головного адміністратора EDMS")]),r("v-tabs",[r("v-tab",[e._v("Створити нову групу")]),r("v-tab-item",[r("create-group",{on:{alert:e.openInfo}})],1),r("v-tab",[e._v("Создать нового администратора")]),r("v-tab-item",[r("create-admin",{on:{alert:e.openInfo}})],1),r("v-tab",[e._v("Групи")]),r("v-tab-item",[r("groups-list",{on:{alert:e.openInfo}})],1)],1),r("v-dialog",{model:{value:e.showInfo,callback:function(t){e.showInfo=t},expression:"showInfo"}},[r("v-card",{staticClass:"px-3 py-3"},[e._v(e._s(e.info))])],1)],1)},staticRenderFns:[]}},thLP:function(e,t,r){var n=r("VU/8")(null,r("r7Ba"),!1,null,null,null);e.exports=n.exports},"tpj+":function(e,t,r){var n=r("VU/8")(null,r("W5YU"),!1,null,null,null);e.exports=n.exports},"u+Uz":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-subheader",{staticClass:"headline"},[e._v("Створити адміністратора групи")]),r("v-select",{attrs:{items:e.groupsOptions,label:"Виберіть групу:",description:"Група, для якої створиться адміністратор",required:"required"},model:{value:e.admin.groupId,callback:function(t){e.$set(e.admin,"groupId",t)},expression:"admin.groupId"}}),r("v-text-field",{attrs:{type:"email",placeholder:"example@gmail.com",label:"Е-mail адміністратора групи",description:"Увага! На цей адрес будуть відіслані данні авторизації!",required:"required",rules:e.rules},model:{value:e.admin.email,callback:function(t){e.$set(e.admin,"email",t)},expression:"admin.email"}}),r("v-btn",{attrs:{color:"primary",disabled:!e.valid},on:{click:function(t){t.preventDefault(),e.createAdmin(t)}}},[e._v("Створити адміністратора")])],1)},staticRenderFns:[]}},wBEF:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.selectedUsers.length?r("v-subheader",[e._v("Список віз:")]):e._e(),e.selectedUsers.length?r("draggable",{staticClass:"authors-list",attrs:{id:"authors-selected"},model:{value:e.usersList,callback:function(t){e.usersList=t},expression:"usersList"}},e._l(e.selectedUsers,function(t,n){return r("v-card",{key:n,staticClass:"px-3 py-3",attrs:{color:"success"}},[r("v-layout",{attrs:{"justify-space-between":"justify-space-between"}},[r("v-subheader",[e._v(e._s(t.author))]),r("v-btn",{attrs:{flat:"flat",icon:"icon"},on:{click:function(r){r.preventDefault(),r.stopPropagation(),e.removeAuthor(t)}}},[r("v-icon",[e._v("close")])],1)],1),r("p",{staticClass:"mb-0"},[e._v(e._s(t.role))]),r("p",{staticClass:"mb-0"},[e._v("Порядок у списку: "+e._s(e.selectedUsers.indexOf(t)+1))])],1)})):r("v-alert",{attrs:{type:"warning",value:!0}},[e._v("Оберіть виконувачів")])],1)},staticRenderFns:[]}},wobF:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("dAhr"),a=r.n(n);t.default={props:{src:String},data:function(){return{numPages:void 0}},computed:{loadingTask:function(){return a.a.createLoadingTask(this.src)}},mounted:function(){var e=this;this.loadingTask.then(function(t){e.numPages=t.numPages})},components:{pdf:a.a}}},"x/4f":function(e,t,r){var n=r("VU/8")(r("LD2M"),r("SGph"),!1,null,null,null);e.exports=n.exports},xJD8:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("1Pqu"),a=r.n(n),s=r("tpj+"),o=r.n(s);t.default={name:"app",components:{AppHeader:a.a,AppFooter:o.a}}},xl7B:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-navigation-drawer",{attrs:{fixed:"fixed",app:"app"},model:{value:e.sidebar,callback:function(t){e.sidebar=t},expression:"sidebar"}},["userBar"===e.show?r("v-list",[r("v-list-tile",[r("v-btn",{attrs:{to:"/edms",flat:"flat"}},[e._v("Нові документи")])],1),r("v-list-tile",[r("v-btn",{attrs:{to:"/edms/addNew",flat:"flat"}},[e._v("Додати документ")])],1),r("v-list-tile",[r("v-btn",{attrs:{to:"/edms/myDocuments",flat:"flat"}},[e._v("Моі документи")])],1),r("v-list-tile",[r("v-btn",{attrs:{to:"/edms/archive",flat:"flat"}},[e._v("Архів")])],1)],1):e._e(),"adminBar"===e.show?r("v-list",[r("v-list-tile",[r("v-btn",{attrs:{to:"/edms/admin",flat:"flat"}},[e._v("Панель адміністрування")])],1)],1):e._e(),"superadminBar"===e.show?r("v-list",[r("v-list-tile",[r("v-btn",{attrs:{to:"/edms/superAdmin",flat:"flat"}},[e._v("Панель адміністрування")])],1)],1):e._e()],1),r("v-toolbar",{attrs:{app:"app",dense:"dense"}},["indexBar"!==e.show?r("v-toolbar-side-icon",{on:{click:function(t){e.sidebar=!e.sidebar}}}):e._e(),"indexBar"!==e.show?r("v-toolbar-title",[e._v(e._s(e.currentUser.author))]):e._e(),"indexBar"===e.show?r("v-toolbar-title",[e._v("EDMS")]):e._e(),r("v-spacer"),"indexBar"!==e.show?r("v-btn",{attrs:{color:"secondary",small:"small"},on:{click:e.logOut}},[e._v("Вийти")]):e._e()],1)],1)},staticRenderFns:[]}},xy5d:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"bg-simple",attrs:{app:"app",fluid:"fluid","fill-height":"fill-height","grid-list-md":"grid-list-md"}},[r("v-layout",{attrs:{row:"row",wrap:"wrap"}},[r("v-flex",{attrs:{xs12:"xs12"}},[r("v-card",{staticClass:"px-3 py-3"},[r("v-subheader",{staticClass:"headline"},[e._v(e._s(e.document.title))]),e.document.author&&e.document.date&&e.document.versions?r("div",[r("v-subheader",[e._v("Автор публикації "+e._s(e.document.author))]),r("v-subheader",[e._v("Дата першої публикації "+e._s(e.toDateString(+e.document.date)))]),e.document.versions.length>1?r("div",[r("v-subheader",[e._v("Поточна версія документа "+e._s(e.document.versions[0].version))]),r("v-subheader",[e._v("Дата публикації версії "+e._s(e.document.versions[0].version)+": "+e._s(e.toDateString(+e.document.versions[0].date)))])],1):e._e()],1):e._e()],1)],1),r("v-flex",{attrs:{xs12:"xs12"}},[r("doc-tabs")],1),r("v-flex",{attrs:{xs12:"xs12",lg6:"lg6"}},[r("signers-list",{attrs:{rejected:e.rejected}})],1),r("v-flex",{attrs:{xs12:"xs12",lg6:"lg6"}},[r("v-card",{staticClass:"px-3 py-3"},[r("v-form",{ref:"signForm",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-subheader",[e._v("Оберіть дію")]),r("v-radio-group",{attrs:{required:"required",rules:e.rules},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[r("v-radio",{attrs:{label:"Підписати документ",value:"resolve"}}),r("v-radio",{attrs:{label:"Відмовити в підписі",value:"reject"}})],1),r("v-text-field",{attrs:{placeholder:"Залиште коментар","multi-line":"multi-line",rules:e.rules,required:"required"},model:{value:e.comment,callback:function(t){e.comment=t},expression:"comment"}}),r("v-btn",{attrs:{disabled:!e.valid||e.submitting,color:"primary"},on:{click:function(t){t.preventDefault(),e.submitDoc(t)}}},[e._v("Відправити")])],1)],1)],1)],1),r("v-dialog",{attrs:{"max-width":"290"},model:{value:e.alert,callback:function(t){e.alert=t},expression:"alert"}},[r("v-card",[r("v-card-text",[e._v(e._s(e.infoAlert))]),r("v-card-actions",[r("v-btn",{attrs:{flat:"flat"},nativeOn:{click:function(t){e.alert=!1}}},[e._v("Закрити")])],1)],1)],1)],1)},staticRenderFns:[]}},yDVY:function(e,t,r){var n=r("VU/8")(r("gVe5"),r("teZk"),!1,function(e){r("Pd3U")},"data-v-62b3d4d5",null);e.exports=n.exports},ygFw:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-text-field",{ref:"fileTextField",attrs:{"prepend-icon":"attach_file","single-line":"",label:e.label,required:e.required,disabled:e.disabled},nativeOn:{click:function(t){e.onFocus(t)}},model:{value:e.filename,callback:function(t){e.filename=t},expression:"filename"}}),e._v(" "),r("input",{ref:"fileInput",attrs:{type:"file",accept:e.accept,multiple:e.multiple,disabled:e.disabled},on:{change:e.onFileChange}})],1)},staticRenderFns:[]}},z4Se:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Dd8w"),a=r.n(n),s=r("NYxO"),o=r("f5j3");t.default={data:function(){return{id:this.$router.currentRoute.params.id}},computed:a()({},Object(s.c)("docsStore",["document"])),methods:a()({},Object(s.b)("docsStore",["getArchiveDocumentById"]),{toDateString:o.a}),created:function(){var e=this;this.getArchiveDocumentById(this.id).catch(function(t){e.$router.push("/404")})},components:{docTabs:r("XRoe"),signersList:r("IiRR")}}}},["NHnr"]);
//# sourceMappingURL=app.1e581c5bc2f1d8d91195.js.map